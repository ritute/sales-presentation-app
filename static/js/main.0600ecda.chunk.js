(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{288:function(e,t,a){e.exports=a(534)},436:function(e,t,a){e.exports=a.p+"static/media/avatar.dbce7bfe.jpeg"},499:function(e,t,a){e.exports=a.p+"static/media/empty-folder.39e6ac47.png"},534:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(37),c=a(254),l=a(16),u="duvf2n0iv",p="ehabsebh",d="sales-presentation-app",m=a(93),h=a(72),E=a(79),f=a(40),b=a(127),g=a(253),y=a(89),v=a(4),O=a.n(v),j=a(578),C=a(22),I=a(23),A=a(25),w=a(24),S=a(26),P=a(9),T=a(34),x=a(15),N=a(6),k=a(12),D=a(586),_=a(589),B=a(604),F=a(588),R=a(259),L=a.n(R),M=a(583),W=a(537),G=a(584),H=a(585),U=a(258),V=a.n(U),q=a(261),z=a.n(q),X=a(587),$=a(96),J=a(580),Y=a(579),K=a(103),Q=a(582),Z=a(257),ee=a.n(Z),te=a(581),ae=a(601),ne=function(e){var t=e.message,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement(K.a,{elevation:0,className:a.paper},r.a.createElement(ae.a,{pb:1},r.a.createElement(Y.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(Y.a,{item:!0},r.a.createElement(ae.a,{bgcolor:"primary.main",clone:!0},r.a.createElement(J.a,null,r.a.createElement(ee.a,null)))),r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,null,t))),r.a.createElement(Y.a,{container:!0,justify:"flex-end",spacing:1},r.a.createElement(Y.a,{item:!0},r.a.createElement(te.a,{color:"primary",onClick:function(){window.location.reload()}},"Retry"))))),r.a.createElement(Q.a,null))};ne.defaultProps={message:"There was an issue with the service. Please retry."};var re=Object(N.a)(function(e){return{paper:{paddingTop:e.spacing(5)}}})(ne),ie=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,errorMessage:""},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorMessage:e.message})}},{key:"render",value:function(){var e=this.props.classes;return this.state.hasError?r.a.createElement(re,{message:this.state.errorMessage,classes:{paper:e.errorBanner}}):this.props.children}}]),t}(n.Component),oe=Object(N.a)(function(e){return{errorBanner:{}}})(ie),se=a(436),ce=[{label:"Presentations",path:"/",icon:r.a.createElement(V.a,null)},{label:"Asset Library",path:"/assets",icon:r.a.createElement(L.a,null)}],le=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.getTitle=function(e){return Object(k.find)(ce,{path:e}).label},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.children,i=e.location.pathname,o=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar},r.a.createElement(Y.a,{container:!0,className:t.root,spacing:1,alignItems:"center"},r.a.createElement(Y.a,{item:!0},r.a.createElement(J.a,{alt:"John Doe",src:se,className:t.avatar})),r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{variant:"h6",color:"inherit",noWrap:!0},"John Doe")))),r.a.createElement(M.a,{className:t.list},ce.map(function(e){return r.a.createElement(W.a,{button:!0,key:e.label,selected:i===e.path,component:E.b,to:e.path},r.a.createElement(G.a,null,e.icon),r.a.createElement(H.a,{primary:e.label}))})));return r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{position:"fixed",className:t.appBar,color:"default"},r.a.createElement(X.a,null,r.a.createElement(F.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.menuButton},r.a.createElement(z.a,null)),r.a.createElement($.a,{variant:"h6",color:"inherit",noWrap:!0},this.getTitle(i)))),r.a.createElement("nav",{className:t.drawer},r.a.createElement(B.a,{smUp:!0,implementation:"css"},r.a.createElement(_.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:t.drawerPaper}},o)),r.a.createElement(B.a,{xsDown:!0,implementation:"css"},r.a.createElement(_.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},o))),r.a.createElement("main",{className:t.content},r.a.createElement(oe,null,n)))}}]),t}(n.Component),ue=Object(x.a)(h.g,Object(N.a)(function(e){return{root:{display:"flex"},drawer:Object(T.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(T.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(T.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(P.a)({},e.mixins.toolbar,{paddingLeft:e.spacing(1)}),drawerPaper:{width:240,borderRight:"none"},content:{flexGrow:1,padding:e.spacing(3),height:"100vh",overflow:"auto"},avatar:{margin:10,width:60,height:60},name:{padding:e.spacing(3)},list:{paddingTop:e.spacing(6)}}},{withTheme:!0}))(le),pe=a(600),de=a(590),me=a(593),he=a(592),Ee=a(591),fe=a(602),be=Object(fe.a)({SHOW_DIALOG:function(e,t){return{dialogType:e,dialogProps:t}},HIDE_DIALOG:function(){}}),ge=be.showDialog,ye=be.hideDialog,ve=a(262),Oe=a.n(ve),je=a(50),Ce=a.n(je),Ie="https://my-json-server.typicode.com/ritute/sales-presentation-app/presentations",Ae={getOne:function(e){return Ce.a.get("".concat(Ie,"/").concat(e))},getAll:function(){return Ce.a.get(Ie)},update:function(e,t){return Ce.a.put("".concat(Ie,"/").concat(e),t)},create:function(e){return Ce.a.post(Ie,e)},delete:function(e){return Ce.a.delete("".concat(Ie,"/").concat(e))}},we=Object(fe.a)({EXCLUDE_ASSETS:function(e){return e},ADD_ASSET_TO_EXCLUDE:function(e){return e},REMOVE_ASSET_FROM_EXCLUDE:function(e){return e},FILTER_ASSET_CATEGORY:function(e){return e}}),Se=we.excludeAssets,Pe=we.addAssetToExclude,Te=we.removeAssetFromExclude,xe=we.filterAssetCategory,Ne=Object(fe.a)({ADD_ASSET:function(e,t,a){return{presentationId:e,assetId:t,newAssetIndex:a}},REORDER_ASSET:function(e,t,a){return{presentationId:e,oldAssetIndex:t,newAssetIndex:a}},REMOVE_ASSET:function(e,t){return{presentationId:e,assetIndex:t}},SET_CURRENT_PRESENTATION_ID:function(e){return e},FETCH_PRESENTATION_LIST_BEGIN:function(){},FETCH_PRESENTATION_LIST_SUCCESS:function(e){return e},FETCH_PRESENTATION_LIST_FAILURE:function(e){return e},FETCH_PRESENTATION_BEGIN:function(){},FETCH_PRESENTATION_SUCCESS:function(e){return e},FETCH_PRESENTATION_FAILURE:function(e){return e},CREATE_PRESENTATION_BEGIN:function(){},CREATE_PRESENTATION_SUCCESS:function(e){return e},CREATE_PRESENTATION_FAILURE:function(e){return e},SAVE_PRESENTATION_BEGIN:function(){},SAVE_PRESENTATION_SUCCESS:function(e){return e},SAVE_PRESENTATION_FAILURE:function(e){return e},DELETE_PRESENTATION_BEGIN:function(){},DELETE_PRESENTATION_SUCCESS:function(e){return e},DELETE_PRESENTATION_FAILURE:function(e){return e}}),ke=Ne.addAsset,De=Ne.reorderAsset,_e=Ne.removeAsset,Be=Ne.setCurrentPresentationId,Fe=Ne.fetchPresentationListBegin,Re=Ne.fetchPresentationListSuccess,Le=Ne.fetchPresentationListFailure,Me=Ne.fetchPresentationBegin,We=Ne.fetchPresentationSuccess,Ge=Ne.fetchPresentationFailure,He=Ne.createPresentationBegin,Ue=Ne.createPresentationSuccess,Ve=Ne.createPresentationFailure,qe=Ne.savePresentationBegin,ze=Ne.savePresentationSuccess,Xe=Ne.savePresentationFailure,$e=Ne.deletePresentationBegin,Je=Ne.deletePresentationSuccess,Ye=Ne.deletePresentationFailure,Ke=function(e,t,a){var n=t().presentations.presentationsById[a];e(Ze(n))},Qe=function(e){var t=Oe.a.generate(),a={id:t,title:e,selectedAssets:[]};return function(e){return e(He()),Ae.create(a).then(function(a){e(Ue(a.data)),e(Be(t))}).catch(function(t){return e(Ve("Unable to create presentation."))})}},Ze=function(e){return function(t){return t(qe()),Ae.update(e.id,e).then(function(e){return t(ze(e.data))}).catch(function(e){return t(Xe("Unable to save presentation."))})}},et=function(e){return function(t){return t($e()),Ae.delete(e).then(t(Je(e))).catch(function(e){return t(Ye("Unable to delete presentation."))})}},tt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",isCreateDisabled:!0},a.handleChange=function(e){var t=e.target.value;a.setState(Object(P.a)({},a.state,{title:t,isCreateDisabled:Object(k.isEmpty)(t)}))},a.handleCreate=function(e){e.preventDefault(),a.props.createPresentation(a.state.title).then(a.props.hideDialog).then(a.props.onCreate)},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props.hideDialog;return r.a.createElement(de.a,{onClose:e,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:!0},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Create Presentation"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleCreate},r.a.createElement(he.a,null,r.a.createElement(pe.a,{autoFocus:!0,margin:"dense",id:"presentation-title",label:"Title",type:"text",onChange:this.handleChange,value:this.state.title,fullWidth:!0})),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:e,color:"primary"},"Cancel"),r.a.createElement(te.a,{type:"submit",color:"primary",disabled:this.state.isCreateDisabled},"Create"))))}}]),t}(n.Component),at={hideDialog:ye,createPresentation:Qe},nt=Object(x.a)(Object(l.b)(null,at))(tt),rt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={presentation:{},isSaveDisabled:!0},a.handleChange=function(e){var t=e.target.value,n=Object.assign({},a.state.presentation,{title:t});a.setState(Object(P.a)({},a.state,{presentation:n,isSaveDisabled:Object(k.isEmpty)(t)}))},a.handleSave=function(e){e.preventDefault(),a.props.savePresentation(a.state.presentation).then(a.props.hideDialog).then(a.props.onSave)},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.presentation;this.setState(Object(P.a)({},this.state,{presentation:e}))}},{key:"componentWillReceiveProps",value:function(e){Object(k.isEqual)(e.presentation,this.state.presentation)||this.setState(Object(P.a)({},this.state,{presentation:e.presentation}))}},{key:"render",value:function(){var e=this.props.hideDialog;return r.a.createElement(de.a,{onClose:e,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:!0},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Edit Presentation Title"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSave},r.a.createElement(he.a,null,r.a.createElement(pe.a,{autoFocus:!0,margin:"dense",id:"presentation-title",label:"Title",type:"text",onChange:this.handleChange,value:this.state.presentation.title,fullWidth:!0})),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:e,color:"primary"},"Cancel"),r.a.createElement(te.a,{type:"submit",color:"primary",disabled:this.state.isSaveDisabled},"Save"))))}}]),t}(n.Component),it={hideDialog:ye,savePresentation:Ze},ot=Object(x.a)(Object(l.b)(function(e){var t=e.currentPresentationId;return{presentation:e.presentations.presentationsById[t]}},it))(rt),st=a(607),ct=a(101),lt=a.n(ct),ut=a(186),pt=a.n(ut),dt=a(263),mt=a.n(dt),ht=a(140),Et=a.n(ht),ft=a(264),bt=a.n(ft),gt=Object(N.a)(function(e){return{root:{margin:0},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[700]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose;return r.a.createElement(Ee.a,{disableTypography:!0,className:a.root},r.a.createElement($.a,{variant:"h6"},t),n?r.a.createElement(F.a,{"aria-label":"Close",className:a.closeButton,onClick:n},r.a.createElement(bt.a,null)):null)}),yt=a(68),vt={image:"image",video:"video",pdf:"pdf"},Ot={images:"images",videos:"videos",pdfs:"pdfs"},jt=function(e){return e===vt.image||e===vt.pdf?vt.image:vt.video},Ct=function(e){var t=e.context;return(t=void 0===t?{custom:{caption:"Title"}}:t).custom.caption},It=function(e){var t=e.context;return(t=void 0===t?{custom:{alt:"Description"}}:t).custom.alt},At=Object(yt.a)(function(e){var t=e.asset,a=e.dimensions,n=e.theme;return function(e,t,a){var n=a.spacing(3),i=Math.floor(t.width-2*n),o=Math.floor(t.height-2*n);switch(e.resource_type){case vt.pdf:return function(e,t,a){return r.a.createElement("embed",{src:"https://res.cloudinary.com/".concat(u,"/image/upload/").concat(e.public_id),width:t,height:a})}(e,i,o);case vt.video:return function(e,t,a){return r.a.createElement(f.Video,{publicId:e.public_id,controls:!0,width:t,height:a})}(e,i,o);default:return function(e,t,a){return r.a.createElement(f.Image,{publicId:e.public_id,width:t,height:a,crop:"fit",quality:"auto",fetchFormat:"auto"})}(e,i,o)}}(t,a,n)}),wt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){a.setState(function(e){return Object(P.a)({},e,{activeStep:e.activeStep+1})})},a.handleBack=function(){a.setState(function(e){return Object(P.a)({},e,{activeStep:e.activeStep-1})})},a.handleStepChange=function(e){a.setState(function(t){return Object(P.a)({},t,{activeStep:e})})},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,i=t.assets,o=t.presentation,s=t.fullScreen,c=t.hideDialog,l=this.state.activeStep,u=o.selectedAssets.length;return r.a.createElement(de.a,{onClose:c,fullWidth:!0,maxWidth:"xl",classes:{paper:a.dialogPaper},open:!0,fullScreen:Boolean(s)},r.a.createElement(gt,{onClose:c}),r.a.createElement(he.a,{className:a.dialogContent},r.a.createElement(Et.a,null,function(t){return r.a.createElement(mt.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:l,onChangeIndex:e.handleStepChange,enableMouseEvents:!0,className:a.swipeableViews},o.selectedAssets.map(function(e,a){return r.a.createElement("div",{key:e},Math.abs(l-a)<=2?r.a.createElement(At,{asset:i[e],dimensions:t}):null)}))})),r.a.createElement(me.a,{className:a.dialogActions},r.a.createElement(st.a,{steps:u,position:"static",activeStep:l,className:a.mobileStepper,nextButton:r.a.createElement(te.a,{size:"small",onClick:this.handleNext,disabled:l===u-1},"Next","rtl"===n.direction?r.a.createElement(lt.a,null):r.a.createElement(pt.a,null)),backButton:r.a.createElement(te.a,{size:"small",onClick:this.handleBack,disabled:0===l},"rtl"===n.direction?r.a.createElement(pt.a,null):r.a.createElement(lt.a,null),"Back")})))}}]),t}(n.Component),St={hideDialog:ye},Pt={hideDialog:ye},Tt={hideDialog:ye,deletePresentation:et},xt={newPresentation:{type:"NEW_PRESENTATION_DIALOG",component:nt},editPresentationTitle:{type:"EDIT_PRESENTATION_TITLE_DIALOG",component:ot},presentationPreview:{type:"PRESENTATION_PREVIEW_DIALOG",component:Object(x.a)(Object(l.b)(function(e){return{assets:e.assets.assetsById}},St),Object(N.a)(function(e){return{dialogPaper:{minHeight:"90vh"},dialogActions:{margin:0},mobileStepper:{flexGrow:1},dialogContent:{display:"flex"},swipeableViews:{flex:1,textAlign:"center",overflowY:"hidden"}}},{withTheme:!0}))(wt)},assetPreview:{type:"ASSET_PREVIEW_DIALOG",component:Object(x.a)(Object(l.b)(function(e){return{assets:e.assets.assetsById}},Pt),Object(N.a)(function(e){return{dialogPaper:{minHeight:"90vh"},dialogContent:{display:"flex"},asset:{flex:1,textAlign:"center",overflowY:"hidden"}}}))(function(e){var t=e.classes,a=e.asset,n=e.assets,i=e.hideDialog;return r.a.createElement(de.a,{onClose:i,fullWidth:!0,maxWidth:"xl",classes:{paper:t.dialogPaper},open:!0},r.a.createElement(gt,{onClose:i}),r.a.createElement(he.a,{className:t.dialogContent},r.a.createElement(Et.a,null,function(e){return r.a.createElement("div",{className:t.asset},r.a.createElement(At,{asset:n[a.public_id],dimensions:e}))})))})},deletePresentationConfirmation:{type:"DELETE_PRESENTATION_CONFIRMATION_DIALOG",component:Object(x.a)(Object(l.b)(null,Tt))(function(e){var t=e.hideDialog;return r.a.createElement(de.a,{onClose:t,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title",open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Ee.a,{id:"alert-dialog-title"},"Delete presentation?"),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(te.a,{onClick:function(){var t=e.deletePresentation,a=e.hideDialog,n=e.onDeleteConfirm,r=e.id;t(r).then(a).then(function(){return n(r)})},color:"primary"},"Delete")))})}},Nt=Object(x.a)(Object(l.b)(function(e){return e.dialog}))(function(e){var t=e.dialogType,a=e.dialogProps;if(!t)return null;var n=xt[Object(k.findKey)(xt,{type:t})].component;return r.a.createElement(n,a)}),kt=a(64),Dt=a(597),_t=a(266),Bt=a.n(_t),Ft=Object(fe.a)({FETCH_ASSETS_BEGIN:function(){},FETCH_ASSETS_SUCCESS:function(e){return e},FETCH_ASSETS_FAILURE:function(e){return e}}),Rt=Ft.fetchAssetsBegin,Lt=Ft.fetchAssetsSuccess,Mt=Ft.fetchAssetsFailure,Wt=function(){var e="https://res.cloudinary.com/".concat(u),t="list/".concat(d,".json"),a="".concat(e,"/image/").concat(t),n="".concat(e,"/video/").concat(t);return function(e){return e(Rt()),Ce.a.all([Ce.a.get(a),Ce.a.get(n)]).then(Ce.a.spread(function(t,a){var n=t.data.resources,r=a.data.resources;return n.map(function(e){return e.resource_type=e.format===vt.pdf?vt.pdf:vt.image}),r.map(function(e){return e.resource_type=vt.video}),e(Lt(n.concat(r)))})).catch(function(t){return e(Mt("Unable to load assets."))})}},Gt=a(142),Ht=a.n(Gt),Ut=a(141),Vt=a.n(Ut),qt=a(265),zt=a.n(qt),Xt=a(594),$t=a(595),Jt=a(92),Yt=Object(N.a)(function(e){return{assetImage:{position:"absolute",left:0,top:0,height:"100%",width:"100%",objectFit:"cover"}}})(function(e){var t=e.asset,a=e.classes;if(Object(k.isEmpty)(t))return r.a.createElement("img",{className:a.assetImage,src:"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22288%22%20height%3D%22225%22%20xmlns%3D%22https%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20288%20225%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_164edaf95ee%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A14pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_164edaf95ee%22%3E%3Crect%20width%3D%22288%22%20height%3D%22225%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2296.32500076293945%22%20y%3D%22118.8%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",alt:"thumbnail"});var n=t.resource_type;switch(jt(n)){case vt.video:return r.a.createElement(f.Video,{responsive:!0,publicId:"".concat(t.public_id,".jpg"),width:"auto",crop:"scale",quality:"auto",fetchFormat:"auto",resourceType:"video",className:a.assetImage},r.a.createElement(f.Transformation,{startOffset:"0"}));default:return r.a.createElement(f.Image,{responsive:!0,publicId:"".concat(t.public_id,".jpg"),width:"auto",crop:"scale",aspectRatio:"1.0",quality:"auto",fetchFormat:"auto",className:a.assetImage})}}),Kt=Object(x.a)(Object(l.b)(function(e){return{assets:e.assets}}),Object(N.a)(function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",position:"relative","&:hover":{boxShadow:e.shadows[8]}},cardMedia:{position:"relative",paddingTop:"56.25%"},cardContent:{flexGrow:1}}}))(function(e){var t=e.classes,a=e.presentation,n=e.children,i=e.assets,o=(e.dispatch,Object(m.a)(e,["classes","presentation","children","assets","dispatch"]));return r.a.createElement(Xt.a,Object.assign({className:t.card},o),r.a.createElement("div",{className:t.cardMedia},function(e){var t=e.selectedAssets,a=i.assetsById;if(Object(k.isEmpty)(t)||Object(k.isEmpty)(a))return r.a.createElement(Yt,null);var n=a[t[0]];return r.a.createElement(Yt,{asset:n})}(a)),r.a.createElement($t.a,{className:t.cardContent},r.a.createElement($.a,{variant:"h6",noWrap:!0},r.a.createElement(Jt.a,null,a.title))),n)}),Qt=Object(x.a)(Object(N.a)(function(e){return{overlay:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.8)",top:0,bottom:0,left:0,right:0},overlayContainer:{height:"100%"},cardActionButton:{border:"1px solid white",borderRadius:"50%",width:"2em",height:"2em","&:hover":{backgroundColor:"white",transition:"background-color 0.5s ease","& svg":{color:"black"}}},cardActionIcon:{color:"white"},cardActionLabel:{color:"white",cursor:"pointer",verticalAlign:"middle",paddingLeft:e.spacing(1)}}}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"isHovered";return function(a){function n(){var e,t;Object(C.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(A.a)(this,(e=Object(w.a)(n)).call.apply(e,[this].concat(r)))).state={isHovered:!1},t.onMouseEnter=function(){t.setState({isHovered:!0})},t.onMouseLeave=function(){t.setState({isHovered:!1})},t}return Object(S.a)(n,a),Object(I.a)(n,[{key:"render",value:function(){var a=this,n=Object(P.a)(Object(T.a)({},t,this.state.isHovered),this.props);return r.a.createElement("div",{onMouseEnter:function(){return a.onMouseEnter()},onMouseLeave:function(){return a.onMouseLeave()}},r.a.createElement(e,n))}}]),n}(n.Component)})(function(e){var t=e.presentation,a=e.index,n=e.classes,i=[{id:"play",label:"Play",icon:r.a.createElement(zt.a,{className:n.cardActionIcon}),onClick:e.onPlay},{id:"edit",label:"Edit",icon:r.a.createElement(Vt.a,{className:n.cardActionIcon}),onClick:e.onEdit},{id:"delete",label:"Delete",icon:r.a.createElement(Ht.a,{className:n.cardActionIcon}),onClick:e.onDelete}];return r.a.createElement(Kt,{presentation:t},r.a.createElement("div",{className:n.overlay,style:{display:e.isHovered?"block":"none"}},r.a.createElement(Y.a,{container:!0,className:n.overlayContainer,direction:"column",justify:"center",alignContent:"center",spacing:1},i.map(function(e,i){var o="".concat(e.id).concat(a,"-").concat(i);return r.a.createElement(Y.a,{item:!0,key:o},r.a.createElement(F.a,{className:n.cardActionButton,onClick:function(){return e.onClick(t.id)},id:o},e.icon),r.a.createElement($.a,{variant:"h5",component:"label",htmlFor:o,className:n.cardActionLabel,display:"inline"},e.label))}))))}),Zt=a(596),ea=a(278),ta=Object(N.a)({spinner:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})(function(e){var t=e.area,a=e.classes,n=Object(kt.usePromiseTracker)({area:t}).promiseInProgress;return r.a.createElement(ea.a,{in:n,style:{transitionDelay:n?"100ms":"0ms"},unmountOnExit:!0},r.a.createElement("div",{className:a.spinner},r.a.createElement(Zt.a,{style:{width:100,height:100}})))}),aa=a(499),na=Object(N.a)(function(e){return{gridContainer:Object(T.a)({height:"100%"},e.breakpoints.only("xs"),{height:"auto"}),avatar:{padding:50,width:200,height:200,backgroundColor:e.palette.grey[200],"& > img":{opacity:.5}}}})(function(e){var t=e.title,a=e.subtitle,n=e.classes;return r.a.createElement(Y.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"center",spacing:3,className:n.gridContainer},r.a.createElement(Y.a,{item:!0},r.a.createElement(J.a,{alt:"Empty State",src:aa,className:n.avatar})),r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{component:"h6",variant:"h6",align:"center",gutterBottom:!0},t),r.a.createElement($.a,{variant:"subtitle1",color:"textSecondary",align:"center"},a)))}),ra=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={toPresentation:!1},a.handleAdd=function(){a.props.showDialog(xt.newPresentation.type,{onCreate:a.onCreatePresentation})},a.onCreatePresentation=function(){var e=a.props.presentations.error;Object(k.isEmpty)(e)&&a.setState(Object.assign({},a.state,{toPresentation:!0}))},a.onPlay=function(e){var t=a.props.presentations.presentationsById;a.props.showDialog(xt.presentationPreview.type,{presentation:t[e],fullScreen:!0})},a.onEdit=function(e){a.props.setCurrentPresentationId(e),a.setState(Object.assign({},a.state,{toPresentation:!0}))},a.onDelete=function(e){a.props.showDialog(xt.deletePresentationConfirmation.type,{id:e,onDeleteConfirm:a.onDeleteConfirm})},a.onDeleteConfirm=function(e){var t=a.props.presentations.error;Object(k.isEmpty)(t)&&a.props.enqueueSnackbar("Deleted presentation")},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){Object(kt.trackPromise)(this.props.fetchPresentationList(),"presentation-list-area"),Object(kt.trackPromise)(this.props.fetchAssets(),"presentation-list-area")}},{key:"handleEmptyState",value:function(){var e=this.props.presentations;return!(e.loading||!Object(k.isEmpty)(e.presentationsById))&&r.a.createElement(na,{title:"Empty Presentations",subtitle:r.a.createElement("span",null,"Create a presentation and it will ",r.a.createElement("br",null),"show up here.")})}},{key:"handleErrors",value:function(){var e=this.props,t=e.presentations,a=e.assets;if(!t.loading&&!Object(k.isEmpty)(t.error))throw new Error(t.error);if(!a.loading&&!Object(k.isEmpty)(a.error))throw new Error(a.error);return!1}},{key:"renderPresentationList",value:function(){var e=this,t=this.props.presentations.presentationsById;return r.a.createElement(Y.a,{container:!0,spacing:3},this.handleErrors()||this.handleEmptyState()||Object.values(t).map(function(t,a){return r.a.createElement(Y.a,{item:!0,key:t.id,xs:12,sm:6,md:4,lg:3},r.a.createElement(Qt,{presentation:t,index:a,onPlay:e.onPlay,onEdit:e.onEdit,onDelete:e.onDelete}))}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentPresentationId;return this.state.toPresentation?r.a.createElement(h.a,{to:"/presentations/".concat(a)}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.cardGrid},this.renderPresentationList(),r.a.createElement(ta,{area:"presentation-list-area"})),r.a.createElement(Dt.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:this.handleAdd},r.a.createElement(Bt.a,null)))}}]),t}(n.Component),ia={fetchPresentationList:function(){return function(e){return e(Fe()),Ae.getAll().then(function(t){return e(Re(t.data))}).catch(function(t){return e(Le("Unable to load presentations."))})}},fetchAssets:Wt,setCurrentPresentationId:Be,showDialog:ge,deletePresentation:et},oa=Object(x.a)(Object(l.b)(function(e){return{presentations:e.presentations,assets:e.assets,currentPresentationId:e.currentPresentationId}},ia),Object(N.a)(function(e){return{cardGrid:{padding:"".concat(e.spacing(8),"px 0"),height:"100%"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),transition:"transform .2s","&:hover":{transform:"scale(1.1)"}}}}),y.withSnackbar)(ra),sa=a(179),ca=a.n(sa),la=a(146),ua=a.n(la),pa=a(70),da=a(143),ma=a.n(da),ha=a(144),Ea=a.n(ha),fa=a(145),ba=a.n(fa),ga={filterAssetCategory:xe},ya=Object(x.a)(Object(l.b)(function(e){return{assetFilters:e.assetFilters}},ga),Object(N.a)(function(e){return{listFilter:{height:"100%",display:"flex",flexDirection:"column",paddingTop:e.spacing(3)}}}))(function(e){var t=e.assetFilters,a=e.classes,n=t.category,i=[{label:"Images",category:Ot.images,icon:r.a.createElement(ma.a,null)},{label:"Videos",category:Ot.videos,icon:r.a.createElement(Ea.a,null)},{label:"PDFs",category:Ot.pdfs,icon:r.a.createElement(ba.a,null)}];return r.a.createElement(M.a,{className:a.listFilter},i.map(function(t){return r.a.createElement(W.a,{button:!0,key:t.label,selected:n===t.category,onClick:function(){return a=t.category,void e.filterAssetCategory(a);var a}},r.a.createElement(G.a,null,t.icon),r.a.createElement(H.a,{primary:t.label}))}))}),va=a(228),Oa=function(e,t){var a=t.exclude,n=t.category,r=n===Ot.images?vt.image:n===Ot.videos?vt.video:vt.pdf;return Object(k.differenceWith)(e,a,function(e,t){return e.public_id===t}).filter(function(e){return e.resource_type===r})},ja=a(270),Ca=a.n(ja),Ia=a(274),Aa=a(598),wa=Object(N.a)(function(e){return{placeholder:{display:"none"}}})(function(e){var t=e.classes,a=e.anchorEl,n=e.readOnly;return r.a.createElement(Ia.a,{anchorEl:a,open:Boolean(a),onClose:function(t){t.stopPropagation(),e.clearAnchor()}},r.a.createElement(Aa.a,{key:"placeholder",className:t.placeholder}),r.a.createElement(Aa.a,{onClick:function(t){t.stopPropagation(),e.handlePreview()}},r.a.createElement(G.a,null,r.a.createElement(ua.a,null)),r.a.createElement(H.a,{primary:"Preview"})),Boolean(n)?null:r.a.createElement(Aa.a,{onClick:function(t){t.stopPropagation(),e.handleRemove()}},r.a.createElement(G.a,null,r.a.createElement(Ht.a,null)),r.a.createElement(H.a,{primary:"Remove"})))}),Sa=function(e,t,a){return Object(P.a)({userSelect:"none",marginBottom:a.spacing(2)},t)},Pa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null},a.handleClickAsset=function(){a.props.showDialog(xt.assetPreview.type,{asset:a.props.asset})},a.handleClickMoreOptions=function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})},a.clearAnchor=function(){a.setState({anchorEl:null})},a.handleRemove=function(){var e=a.props,t=e.presentationId,n=e.asset,r=e.index;a.props.removeAssetFromPresentation(t,n.public_id,r)},a.getThumbnail=function(e){var t=a.props.asset.resource_type;switch(jt(t)){case vt.video:return r.a.createElement(f.Video,{publicId:"".concat(e.public_id,".jpg"),width:"120",height:"120",crop:"fill",quality:"auto",fetchFormat:"auto",resourceType:"video"},r.a.createElement(f.Transformation,{startOffset:"0"}));default:return r.a.createElement(f.Image,{publicId:"".concat(e.public_id,".jpg"),width:"120",height:"120",crop:"fill",quality:"auto",fetchFormat:"auto"})}},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,i=t.asset,o=t.index,s=t.readOnly,c=this.state.anchorEl;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(pa.b,{key:i.public_id,draggableId:i.public_id,index:o},function(t,o){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Sa(o.isDragging,t.draggableProps.style,n)}),r.a.createElement(Xt.a,{className:a.card,onClick:e.handleClickAsset},r.a.createElement(Y.a,{container:!0,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0},e.getThumbnail(i)),r.a.createElement(Y.a,{item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement($t.a,null,r.a.createElement($.a,{noWrap:!0,component:"h6",variant:"h6"},Ct(i)),r.a.createElement($.a,{noWrap:!0,variant:"subtitle1",color:"textSecondary"},r.a.createElement(Jt.a,{lines:2},It(i))))),r.a.createElement(Y.a,{item:!0},r.a.createElement(F.a,{"aria-owns":c?"simple-menu":void 0,"aria-haspopup":"true",onClick:e.handleClickMoreOptions},r.a.createElement(Ca.a,null)),r.a.createElement(wa,{anchorEl:c,readOnly:s,clearAnchor:e.clearAnchor,handlePreview:e.handleClickAsset,handleRemove:e.handleRemove})))))}))}}]),t}(n.Component),Ta={showDialog:ge,removeAssetFromPresentation:function(e,t,a){return function(n,r){n(_e(e,a)),n(Te(t)),Ke(n,r,e)}}},xa=Object(x.a)(Object(l.b)(null,Ta),Object(N.a)(function(e){return{card:{height:120}}},{withTheme:!0}))(Pa),Na=function(e){function t(){return Object(C.a)(this,t),Object(A.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.presentations,a=e.currentPresentationId,n=e.excludeAssets;Object(k.isEmpty)(t)||null===a||n(t[a].selectedAssets)}},{key:"render",value:function(){var e=this.props,t=e.libraryAssets,a=e.currentPresentationId,n=e.classes;return r.a.createElement(pa.c,{droppableId:"asset-library",isDropDisabled:!0},function(e,i){return r.a.createElement(va.a,{rootRef:e.innerRef},r.a.createElement(Y.a,{container:!0,direction:"column",className:n.assets,wrap:"nowrap"},t.map(function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,key:e.public_id,spacing:2,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0,xs:!0,className:n.assetWrapper},r.a.createElement(xa,{key:e.public_id,index:t,asset:e,presentationId:a,readOnly:!0})),r.a.createElement(Y.a,{item:!0,className:n.assetSpacing},r.a.createElement($.a,{variant:"h6",color:"inherit"},"\xa0")))}),Object(k.isEmpty)(t)&&r.a.createElement(na,{title:"Empty Category",subtitle:r.a.createElement("span",null,"No assets are in this library ",r.a.createElement("br",null),"category."),classes:{avatar:n.emptyStateAvatar}}),e.placeholder))})}}]),t}(n.Component),ka={excludeAssets:Se},Da=Object(x.a)(Object(l.b)(function(e){var t=e.presentations.presentationsById,a=e.assets.assetsById,n=e.assetFilters,r=e.currentPresentationId;return{presentations:t,libraryAssets:Oa(Object.values(a),n),currentPresentationId:r}},ka),Object(N.a)(function(e){return{assets:{paddingRight:e.spacing(2)},assetWrapper:{minWidth:400,width:400},assetSpacing:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:120}}}))(Na),_a=function(e,t){return{padding:t.spacing(2),backgroundColor:e?t.palette.grey[300]:"",transition:"background-color 0.5s ease"}},Ba=Object(x.a)(Object(l.b)(function(e){var t=e.presentations.presentationsById,a=e.assets.assetsById,n=e.currentPresentationId;return{presentation:t[n],assets:a,currentPresentationId:n}}),Object(N.a)(function(e){return{selectedAssets:{backgroundColor:e.palette.grey[200]},assets:{paddingRight:e.spacing(2)},assetsWrapper:{height:"80vh",flexGrow:1,minHeight:0,overflow:"auto"},slideNumber:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:120,color:e.palette.grey[700]},slideAsset:{minWidth:400,width:400},emptyStateAvatar:{backgroundColor:"#fff"}}},{withTheme:!0}))(function(e){var t=e.presentation,a=e.currentPresentationId,n=e.assets,i=e.classes,o=e.theme,s=t.selectedAssets,c=Object(k.isEmpty)(s);return r.a.createElement(pa.c,{droppableId:"selected-assets"},function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,xs:5,direction:"column",className:i.selectedAssets,style:_a(t.isDraggingOver,o)},r.a.createElement(Y.a,{container:!0,item:!0,className:i.assetsWrapper},r.a.createElement(va.a,{rootRef:e.innerRef},r.a.createElement(Y.a,{container:!0,direction:"column",className:i.assets,wrap:"nowrap"},s.map(function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,key:e,spacing:2,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0,className:i.slideNumber},r.a.createElement($.a,{variant:"h6",color:"inherit"},t+1)),r.a.createElement(Y.a,{item:!0,xs:!0,className:i.slideAsset},r.a.createElement(xa,{key:e,index:t,asset:n[e],presentationId:a})))}),r.a.createElement(ea.a,{in:c&&!t.isDraggingOver,unmountOnExit:!0},r.a.createElement(na,{title:"Empty Presentation",subtitle:r.a.createElement("span",null,"Drag and drop an asset from the ",r.a.createElement("br",null),"library here."),classes:{avatar:i.emptyStateAvatar}})),e.placeholder))))})}),Fa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(e){var t=e.draggableId,n=e.source,r=e.destination,i=(e.type,a.props),o=i.currentPresentationId,s=i.addAssetToPresentation,c=i.reorderAssetInPresentation,l=i.addAssetToExclude;r&&(n.droppableId!==r.droppableId&&(s(o,t,r.index),l(t)),n.index!==r.index&&n.droppableId===r.droppableId&&c(o,n.index,r.index))},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){Object(kt.trackPromise)(this.props.fetchAssets(),"presentation-assets-area")}},{key:"handleErrors",value:function(){var e=this.props,t=e.presentations,a=e.assets;if(!t.loading&&!Object(k.isEmpty)(t.error))throw new Error(t.error);if(!a.loading&&!Object(k.isEmpty)(a.error))throw new Error(a.error);return!1}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.presentations,n=e.currentPresentationId,i=a.presentationsById[n];return r.a.createElement("div",{className:t.root},r.a.createElement(ta,{area:"presentation-assets-area"}),(this.handleErrors()||i)&&r.a.createElement(Y.a,{container:!0,direction:"row",alignItems:"stretch",spacing:3,className:t.rootGrid},r.a.createElement(pa.a,{onDragEnd:this.onDragEnd},r.a.createElement(Y.a,{container:!0,item:!0,xs:2,direction:"column",alignItems:"stretch"},r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{className:t.title,variant:"h6",color:"inherit",gutterBottom:!0},"Asset Library")),r.a.createElement(Y.a,{item:!0,className:t.assetCategoryWrapper},r.a.createElement(ya,null))),r.a.createElement(Y.a,{container:!0,item:!0,xs:5,direction:"column"},r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{className:t.title,variant:"h6",color:"inherit",gutterBottom:!0},"\xa0")),r.a.createElement(Y.a,{container:!0,item:!0,className:t.assetsWrapper},r.a.createElement(Da,null))),r.a.createElement(Ba,null))))}}]),t}(n.Component),Ra={fetchAssets:Wt,addAssetToPresentation:function(e,t,a){return function(n,r){n(ke(e,t,a)),Ke(n,r,e)}},reorderAssetInPresentation:function(e,t,a){return function(n,r){n(De(e,t,a)),Ke(n,r,e)}},addAssetToExclude:Pe},La=Object(x.a)(Object(l.b)(function(e){return{currentPresentationId:e.currentPresentationId,presentations:e.presentations,assets:e.assets}},Ra),Object(N.a)(function(e){return{root:{width:"auto",marginLeft:e.spacing(10),marginRight:e.spacing(4),marginTop:e.spacing(1),height:"90vh",flexGrow:1},rootGrid:{height:"90vh"},assetCategoryWrapper:{flexGrow:1},assetsWrapper:{height:"80vh",flexGrow:1,minHeight:0,overflow:"auto"}}}))(Fa),Ma=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={toHome:!1},a.handleBack=function(){a.props.setCurrentPresentationId(null),a.setState({toHome:!0})},a.handleEditTitle=function(e){a.props.showDialog(xt.editPresentationTitle.type,{presentation:e,onSave:a.handleEditTitleSave})},a.handleEditTitleSave=function(){a.props.enqueueSnackbar("Changed presentation title")},a.handlePreview=function(e){a.props.showDialog(xt.presentationPreview.type,{presentation:e})},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.routeId;this.props.setCurrentPresentationId(e),this.props.fetchPresentation(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.presentations,i=t.routeId;if(!0===this.state.toHome)return r.a.createElement(h.a,{to:"/"});var o=n.presentationsById[i],s=!n.loading&&!Object(k.isEmpty)(n.error);return r.a.createElement("div",{className:a.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{position:"static",color:"default"},r.a.createElement(X.a,null,r.a.createElement(F.a,{className:a.backButton,color:"inherit","aria-label":"Back to list",onClick:this.handleBack},r.a.createElement(lt.a,null)),r.a.createElement($.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},o&&o.title),!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{"aria-label":"Edit title",className:a.editIcon,onClick:function(){return e.handleEditTitle(o)}},r.a.createElement(Vt.a,null)),r.a.createElement("div",{className:a.grow}),r.a.createElement(te.a,{color:"inherit",onClick:function(){return e.handlePreview(o)},disabled:o&&Object(k.isEmpty)(o.selectedAssets)},r.a.createElement(ua.a,{className:ca()(a.rightIcon,a.iconSmall)}),"Preview")))),r.a.createElement(oe,{classes:{errorBanner:a.errorBanner}},r.a.createElement(La,null))))}}]),t}(n.Component),Wa={fetchPresentation:function(e){return function(t){return t(Me()),Ae.getOne(e).then(function(e){return t(We(e.data))}).catch(function(e){return t(Ge("Unable to load presentation."))})}},setCurrentPresentationId:Be,createPresentation:Qe,showDialog:ge},Ga=Object(x.a)(Object(l.b)(function(e,t){return{presentations:e.presentations,routeId:t.match.params.id}},Wa),h.g,Object(N.a)(function(e){return{root:{flexGrow:1},backButton:{marginLeft:-12,marginRight:20},editIcon:{marginLeft:e.spacing(1)},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),grow:{flexGrow:1},input:{margin:e.spacing(1)},rightIcon:{marginRight:e.spacing(1)},iconSmall:{fontSize:20},errorBanner:{paddingTop:0,paddingLeft:e.spacing(10),paddingRight:e.spacing(4)}}}),y.withSnackbar)(Ma),Ha=a(603),Ua=a(599),Va=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={value:Ot.images},a.handleChange=function(e,t){a.setState({value:t}),a.props.filterAssetCategory(t)},a.renderTabs=function(){return r.a.createElement(Ha.a,{value:a.state.value,onChange:a.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Ua.a,{icon:r.a.createElement(ma.a,null),label:"Images",value:Ot.images}),r.a.createElement(Ua.a,{icon:r.a.createElement(Ea.a,null),label:"Videos",value:Ot.videos}),r.a.createElement(Ua.a,{icon:r.a.createElement(ba.a,null),label:"PDFs",value:Ot.pdfs}))},a}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){Object(kt.trackPromise)(this.props.fetchAssets(),"asset-library-area"),this.props.excludeAssets([]),this.props.filterAssetCategory(Ot.images)}},{key:"handleErrors",value:function(){var e=this.props.assets;if(!e.loading&&!Object(k.isEmpty)(e.error))throw new Error(e.error);return!1}},{key:"renderAssetList",value:function(){var e=this.props,t=e.classes;return e.libraryAssets.map(function(e,a){var n=Ct(e),i=It(e);return r.a.createElement(Y.a,{item:!0,key:e.public_id,xs:12,sm:6,md:4,lg:3},r.a.createElement(Xt.a,{className:t.card},r.a.createElement(Y.a,{container:!0,wrap:"nowrap",direction:"column"},r.a.createElement(Y.a,{item:!0,className:t.cardMedia},r.a.createElement(Yt,{asset:e})),r.a.createElement(Y.a,{item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement($t.a,{className:t.cardContent},r.a.createElement($.a,{noWrap:!0,component:"h6",variant:"h6"},n),r.a.createElement($.a,{noWrap:!0,variant:"subtitle1",color:"textSecondary"},r.a.createElement(Jt.a,{lines:1},i)))))))})}},{key:"renderEmptyState",value:function(){var e=this.props,t=e.classes,a=e.assets,n=e.libraryAssets;if(!a.loading&&Object(k.isEmpty)(n))return r.a.createElement(na,{title:"Empty Category",subtitle:r.a.createElement("span",null,"No assets are in this library ",r.a.createElement("br",null),"category."),classes:{avatar:t.emptyStateAvatar}})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.cardGrid},this.handleErrors()||r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{container:!0,direction:"column",alignItems:"center",spacing:3},r.a.createElement(Y.a,{item:!0},this.renderTabs()),r.a.createElement(Y.a,{container:!0,item:!0,spacing:3},this.renderAssetList())),this.renderEmptyState()),r.a.createElement(ta,{area:"asset-library-area"}))}}]),t}(n.Component),qa={fetchAssets:Wt,excludeAssets:Se,filterAssetCategory:xe},za=Object(x.a)(Object(l.b)(function(e){var t=e.assets,a=e.assetFilters;return{assets:t,libraryAssets:Oa(Object.values(t.assetsById),a),assetFilters:a}},qa),Object(N.a)(function(e){return{cardGrid:{paddingTop:e.spacing(4),paddingBottom:e.spacing(8),height:"100%"},card:{height:"100%",display:"flex",flexDirection:"column",position:"relative"},cardMedia:{position:"relative",paddingTop:"56.25%"},cardContent:{flexGrow:1}}}))(Va),Xa="linear-gradient(to right, #243949 0%, #517fa4 100%)",$a={palette:{primary:{main:"#3A5B78"},secondary:{main:"#3A5B78"},background:{default:"#fff"}},typography:{useNextVariants:!0},overrides:{MuiDrawer:{paper:{background:Xa,"& *":{color:"#fff"}}},MuiAppBar:{colorDefault:{boxShadow:"none",backgroundColor:"#fff"}},MuiFab:{primary:{background:Xa}},MuiList:{root:{background:Xa}},MuiListItem:{root:{borderLeft:"2px solid ".concat("#3A5B78"),"&$selected&$button":{backgroundColor:"#fff",transition:"background-color 0.5s ease","& *":{color:"#000"}},"&$button:hover, &$button:focus":{backgroundColor:"rgba(255,255,255,0.9)",transition:"background-color 0.5s ease","& *":{color:"#000"}}}},MuiListItemIcon:{root:{color:"#fff"}},MuiListItemText:{primary:{color:"#fff"}}}},Ja=Object(b.a)($a),Ya=function(e){var t=e.layout,a=e.component,n=Object(m.a)(e,["layout","component"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e,r.a.createElement(a,e))}}))},Ka=function(e){var t=e.cloudName,a=e.uploadPreset;return r.a.createElement(y.SnackbarProvider,{maxSnack:3},r.a.createElement(f.CloudinaryContext,{cloudName:t,uploadPreset:a},r.a.createElement(g.a,{theme:Ja},r.a.createElement(j.a,null),r.a.createElement(E.a,null,r.a.createElement(h.d,null,r.a.createElement(Ya,{exact:!0,path:"/",layout:ue,component:oa}),r.a.createElement(Ya,{path:"/assets",layout:ue,component:za}),r.a.createElement(h.b,{path:"/presentations/:id",component:Ga}),r.a.createElement(h.a,{to:"/"}))),r.a.createElement(Nt,null))))};Ka.contextTypes={cloudName:O.a.string,uploadPreset:O.a.string};var Qa=Ka,Za=a(605),en=Object(Za.a)(new Map([[Rt,function(e,t){return Object(P.a)({},e,{loading:!0})}],[Lt,function(e,t){return Object(P.a)({},e,{loading:!1,assetsById:t.payload.reduce(function(e,t){return e[t.public_id]=t,e},{})})}],[Mt,function(e,t){return Object(P.a)({},e,{loading:!1,error:t.payload})}]]),{error:null,loading:!1,assetsById:{}}),tn=a(272),an=a(606);function nn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var rn=Object(Za.a)(new Map([[ke,function(e,t){var a=t.payload,n=a.presentationId,r=a.assetId,i=a.newAssetIndex,o=Array.from(e.presentationsById[n].selectedAssets);return o.splice(i,0,r),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(T.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:o})))})}],[De,function(e,t){var a=t.payload,n=a.presentationId,r=a.oldAssetIndex,i=a.newAssetIndex,o=Array.from(e.presentationsById[n].selectedAssets),s=o.splice(r,1),c=Object(tn.a)(s,1)[0];return o.splice(i,0,c),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(T.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:o})))})}],[_e,function(e,t){var a=t.payload,n=a.presentationId,r=a.assetIndex,i=Array.from(e.presentationsById[n].selectedAssets);return i.splice(r,1),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(T.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:i})))})}],[[Object(an.a)(Fe,Me,He,qe,$e)],function(e,t){return Object(P.a)({},e,{loading:!0})}],[Re,function(e,t){var a=t.payload.reduce(function(e,t){return e[t.id]=t,e},{});return Object(P.a)({},e,{loading:!1,presentationsById:a})}],[We,function(e,t){var a={};return a[t.payload.id]=t.payload,Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},e.presentationsById,a)})}],[[Object(an.a)(Ue,ze)],function(e,t){var a=t.payload;return Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},e.presentationsById,Object(T.a)({},a.id,Object(P.a)({},a)))})}],[Je,function(e,t){var a=t.payload,n=e.presentationsById,r=(n[a],Object(m.a)(n,[a].map(nn)));return Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},r)})}],[[Object(an.a)(Le,Ge,Ve,Xe,Ye)],function(e,t){return Object(P.a)({},e,{loading:!1,error:t.payload})}]]),{error:null,loading:!1,presentationsById:{}}),on=a(273),sn={exclude:[],category:Ot.images},cn=Object(Za.a)(new Map([[Se,function(e,t){return Object(P.a)({},e,{exclude:t.payload})}],[Pe,function(e,t){return Object(P.a)({},e,{exclude:[].concat(Object(on.a)(e.exclude),[t.payload])})}],[Te,function(e,t){return Object(P.a)({},e,{exclude:Object(k.without)(e.exclude,t.payload)})}],[xe,function(e,t){return Object(P.a)({},e,{category:t.payload})}]]),sn),ln=a(275),un=Object(ln.a)(Be,function(e,t){return t.payload},null),pn={dialogType:null,dialogProps:{}},dn=Object(Za.a)(new Map([[ge,function(e,t){return{dialogType:t.payload.dialogType,dialogProps:t.payload.dialogProps}}],[ye,function(e,t){return pn}]]),pn),mn=Object(s.c)({presentations:rn,currentPresentationId:un,assets:en,assetFilters:cn,dialog:dn}),hn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,En=Object(s.e)(mn,hn(Object(s.a)(c.a)));o.a.render(r.a.createElement(l.a,{store:En},r.a.createElement(Qa,{cloudName:u,uploadPreset:p})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[288,1,2]]]);
//# sourceMappingURL=main.0600ecda.chunk.js.map