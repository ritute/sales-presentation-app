(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{266:function(e){e.exports={presentations:[{id:"wBwFwRiva",title:"Introduction to Solar Energy",selectedAssets:["william-bossen-120685-unsplash","tgitl0xirflwteksrcw4","cansia_roadmap_2020_final","david-cristian-325638-unsplash","solari","dbtl5fnnenykak83mnns"]},{id:"PoQHtUPAz",title:"Meeting with Mark",selectedAssets:["david-cristian-325638-unsplash","william-bossen-120685-unsplash","dbtl5fnnenykak83mnns"]},{id:"UqpemzpC5",title:"Value Benefit Analysis",selectedAssets:["cansia_roadmap_2020_final","Solar_powered_air_conditioning","tgitl0xirflwteksrcw4","korji123-cheng-426144-unsplash","david-cristian-325638-unsplash"]}]}},292:function(e,t,a){e.exports=a(543)},440:function(e,t,a){e.exports=a.p+"static/media/avatar.dbce7bfe.jpeg"},508:function(e,t,a){e.exports=a.p+"static/media/empty-folder.39e6ac47.png"},543:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),s=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(37),c=a(256),l=a(16),u="duvf2n0iv",d="ehabsebh",p="sales-presentation-app",m=a(93),h=a(72),f=a(79),E=a(40),b=a(127),g=a(255),y=a(89),v=a(4),O=a.n(v),j=a(587),I=a(22),w=a(23),C=a(25),A=a(24),S=a(26),P=a(9),x=a(34),N=a(15),T=a(6),k=a(11),D=a(595),_=a(598),B=a(613),R=a(597),F=a(261),L=a.n(F),M=a(592),W=a(546),G=a(593),U=a(594),H=a(260),V=a.n(H),q=a(263),z=a.n(q),J=a(596),X=a(96),$=a(589),Y=a(588),K=a(103),Q=a(591),Z=a(259),ee=a.n(Z),te=a(590),ae=a(610),ne=function(e){var t=e.message,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement(K.a,{elevation:0,className:a.paper},r.a.createElement(ae.a,{pb:1},r.a.createElement(Y.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(Y.a,{item:!0},r.a.createElement(ae.a,{bgcolor:"primary.main",clone:!0},r.a.createElement($.a,null,r.a.createElement(ee.a,null)))),r.a.createElement(Y.a,{item:!0},r.a.createElement(X.a,null,t))),r.a.createElement(Y.a,{container:!0,justify:"flex-end",spacing:1},r.a.createElement(Y.a,{item:!0},r.a.createElement(te.a,{color:"primary",onClick:function(){window.location.reload()}},"Retry"))))),r.a.createElement(Q.a,null))};ne.defaultProps={message:"There was an issue with the service. Please retry."};var re=Object(T.a)(function(e){return{paper:{paddingTop:e.spacing(5)}}})(ne),ie=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,errorMessage:""},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorMessage:e.message})}},{key:"render",value:function(){var e=this.props.classes;return this.state.hasError?r.a.createElement(re,{message:this.state.errorMessage,classes:{paper:e.errorBanner}}):this.props.children}}]),t}(n.Component),se=Object(T.a)(function(e){return{errorBanner:{}}})(ie),oe=a(440),ce=[{label:"Presentations",path:"/",icon:r.a.createElement(V.a,null)},{label:"Asset Library",path:"/assets",icon:r.a.createElement(L.a,null)}],le=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.getTitle=function(e){return Object(k.find)(ce,{path:e}).label},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.children,i=e.location.pathname,s=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar},r.a.createElement(Y.a,{container:!0,className:t.root,spacing:1,alignItems:"center"},r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{alt:"John Doe",src:oe,className:t.avatar})),r.a.createElement(Y.a,{item:!0},r.a.createElement(X.a,{variant:"h6",color:"inherit",noWrap:!0},"John Doe")))),r.a.createElement(M.a,{className:t.list},ce.map(function(e){return r.a.createElement(W.a,{button:!0,key:e.label,selected:i===e.path,component:f.b,to:e.path},r.a.createElement(G.a,null,e.icon),r.a.createElement(U.a,{primary:e.label}))})));return r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{position:"fixed",className:t.appBar,color:"default"},r.a.createElement(J.a,null,r.a.createElement(R.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.menuButton},r.a.createElement(z.a,null)),r.a.createElement(X.a,{variant:"h6",color:"inherit",noWrap:!0},this.getTitle(i)))),r.a.createElement("nav",{className:t.drawer},r.a.createElement(B.a,{smUp:!0,implementation:"css"},r.a.createElement(_.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:t.drawerPaper}},s)),r.a.createElement(B.a,{xsDown:!0,implementation:"css"},r.a.createElement(_.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},s))),r.a.createElement("main",{className:t.content},r.a.createElement(se,null,n)))}}]),t}(n.Component),ue=Object(N.a)(h.g,Object(T.a)(function(e){return{root:{display:"flex"},drawer:Object(x.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(x.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(x.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(P.a)({},e.mixins.toolbar,{paddingLeft:e.spacing(1)}),drawerPaper:{width:240,borderRight:"none"},content:{flexGrow:1,padding:e.spacing(3),height:"100vh",overflow:"auto"},avatar:{margin:10,width:60,height:60},name:{padding:e.spacing(3)},list:{paddingTop:e.spacing(6)}}},{withTheme:!0}))(le),de=a(609),pe=a(599),me=a(602),he=a(601),fe=a(600),Ee=a(611),be=Object(Ee.a)({SHOW_DIALOG:function(e,t){return{dialogType:e,dialogProps:t}},HIDE_DIALOG:function(){}}),ge=be.showDialog,ye=be.hideDialog,ve=a(71),Oe=a.n(ve),je=a(264),Ie=a.n(je),we=a(265),Ce=a.n(we),Ae=a(186),Se=a.n(Ae),Pe=a(266),xe=Oe.a.create({baseURL:"http://localhost:4000/api"});!function(){var e=new Ce.a(xe,{delayResponse:500}),t=Pe.presentations,a=new Se.a("*/presentations"),n=new Se.a("*/presentations/:id"),r=function(e){return n.match(e).id};e.onGet(n.regex).reply(function(e){var a=e.url;return[200,Object(k.find)(t,{id:r(a)})]}).onGet(a.regex).reply(200,t).onPut(n.regex).reply(function(e){var a=e.url,n=e.data,i=Object(k.findIndex)(t,{id:r(a)}),s=JSON.parse(n);return t.splice(i,1,s),[200,s]}).onPost(a.regex).reply(function(e){var a=e.data,n=Object(P.a)({id:Ie.a.generate()},JSON.parse(a));return t.push(n),[201,n]}).onDelete(n.regex).reply(function(e){var a=e.url;return Object(k.pullAllBy)(t,{id:r(a)}),[200,{}]})}();var Ne={getOne:function(e){return xe.get("/presentations/".concat(e))},getAll:function(){return xe.get("/presentations")},update:function(e,t){return xe.put("/presentations/".concat(e),t)},create:function(e){return xe.post("/presentations",e)},delete:function(e){return xe.delete("/presentations/".concat(e))}},Te=Object(Ee.a)({EXCLUDE_ASSETS:function(e){return e},ADD_ASSET_TO_EXCLUDE:function(e){return e},REMOVE_ASSET_FROM_EXCLUDE:function(e){return e},FILTER_ASSET_CATEGORY:function(e){return e}}),ke=Te.excludeAssets,De=Te.addAssetToExclude,_e=Te.removeAssetFromExclude,Be=Te.filterAssetCategory,Re=Object(Ee.a)({ADD_ASSET:function(e,t,a){return{presentationId:e,assetId:t,newAssetIndex:a}},REORDER_ASSET:function(e,t,a){return{presentationId:e,oldAssetIndex:t,newAssetIndex:a}},REMOVE_ASSET:function(e,t){return{presentationId:e,assetIndex:t}},SET_CURRENT_PRESENTATION_ID:function(e){return e},FETCH_PRESENTATION_LIST_BEGIN:function(){},FETCH_PRESENTATION_LIST_SUCCESS:function(e){return e},FETCH_PRESENTATION_LIST_FAILURE:function(e){return e},FETCH_PRESENTATION_BEGIN:function(){},FETCH_PRESENTATION_SUCCESS:function(e){return e},FETCH_PRESENTATION_FAILURE:function(e){return e},CREATE_PRESENTATION_BEGIN:function(){},CREATE_PRESENTATION_SUCCESS:function(e){return e},CREATE_PRESENTATION_FAILURE:function(e){return e},SAVE_PRESENTATION_BEGIN:function(){},SAVE_PRESENTATION_SUCCESS:function(e){return e},SAVE_PRESENTATION_FAILURE:function(e){return e},DELETE_PRESENTATION_BEGIN:function(){},DELETE_PRESENTATION_SUCCESS:function(e){return e},DELETE_PRESENTATION_FAILURE:function(e){return e}}),Fe=Re.addAsset,Le=Re.reorderAsset,Me=Re.removeAsset,We=Re.setCurrentPresentationId,Ge=Re.fetchPresentationListBegin,Ue=Re.fetchPresentationListSuccess,He=Re.fetchPresentationListFailure,Ve=Re.fetchPresentationBegin,qe=Re.fetchPresentationSuccess,ze=Re.fetchPresentationFailure,Je=Re.createPresentationBegin,Xe=Re.createPresentationSuccess,$e=Re.createPresentationFailure,Ye=Re.savePresentationBegin,Ke=Re.savePresentationSuccess,Qe=Re.savePresentationFailure,Ze=Re.deletePresentationBegin,et=Re.deletePresentationSuccess,tt=Re.deletePresentationFailure,at=function(e,t,a){var n=t().presentations.presentationsById[a];e(rt(n))},nt=function(e){var t={title:e,selectedAssets:[]};return function(e){return e(Je()),Ne.create(t).then(function(t){var a=t.data;e(Xe(a)),e(We(a.id))}).catch(function(t){return e($e("Unable to create presentation."))})}},rt=function(e){return function(t){return t(Ye()),Ne.update(e.id,e).then(function(e){return t(Ke(e.data))}).catch(function(e){return t(Qe("Unable to save presentation."))})}},it=function(e){return function(t){return t(Ze()),Ne.delete(e).then(t(et(e))).catch(function(e){return t(tt("Unable to delete presentation."))})}},st=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",isCreateDisabled:!0},a.handleChange=function(e){var t=e.target.value;a.setState(Object(P.a)({},a.state,{title:t,isCreateDisabled:Object(k.isEmpty)(t)}))},a.handleCreate=function(e){e.preventDefault(),a.props.createPresentation(a.state.title).then(a.props.hideDialog).then(a.props.onCreate)},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.hideDialog;return r.a.createElement(pe.a,{onClose:e,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:!0},r.a.createElement(fe.a,{id:"form-dialog-title"},"Create Presentation"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleCreate},r.a.createElement(he.a,null,r.a.createElement(de.a,{autoFocus:!0,margin:"dense",id:"presentation-title",label:"Title",type:"text",onChange:this.handleChange,value:this.state.title,fullWidth:!0})),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:e,color:"primary"},"Cancel"),r.a.createElement(te.a,{type:"submit",color:"primary",disabled:this.state.isCreateDisabled},"Create"))))}}]),t}(n.Component),ot={hideDialog:ye,createPresentation:nt},ct=Object(N.a)(Object(l.b)(null,ot))(st),lt=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={presentation:{},isSaveDisabled:!0},a.handleChange=function(e){var t=e.target.value,n=Object.assign({},a.state.presentation,{title:t});a.setState(Object(P.a)({},a.state,{presentation:n,isSaveDisabled:Object(k.isEmpty)(t)}))},a.handleSave=function(e){e.preventDefault(),a.props.savePresentation(a.state.presentation).then(a.props.hideDialog).then(a.props.onSave)},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.presentation;this.setState(Object(P.a)({},this.state,{presentation:e}))}},{key:"componentWillReceiveProps",value:function(e){Object(k.isEqual)(e.presentation,this.state.presentation)||this.setState(Object(P.a)({},this.state,{presentation:e.presentation}))}},{key:"render",value:function(){var e=this.props.hideDialog;return r.a.createElement(pe.a,{onClose:e,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",open:!0},r.a.createElement(fe.a,{id:"form-dialog-title"},"Edit Presentation Title"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSave},r.a.createElement(he.a,null,r.a.createElement(de.a,{autoFocus:!0,margin:"dense",id:"presentation-title",label:"Title",type:"text",onChange:this.handleChange,value:this.state.presentation.title,fullWidth:!0})),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:e,color:"primary"},"Cancel"),r.a.createElement(te.a,{type:"submit",color:"primary",disabled:this.state.isSaveDisabled},"Save"))))}}]),t}(n.Component),ut={hideDialog:ye,savePresentation:rt},dt=Object(N.a)(Object(l.b)(function(e){var t=e.currentPresentationId;return{presentation:e.presentations.presentationsById[t]}},ut))(lt),pt=a(616),mt=a(101),ht=a.n(mt),ft=a(187),Et=a.n(ft),bt=a(267),gt=a.n(bt),yt=a(140),vt=a.n(yt),Ot=a(268),jt=a.n(Ot),It=Object(T.a)(function(e){return{root:{margin:0},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[700]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose;return r.a.createElement(fe.a,{disableTypography:!0,className:a.root},t?r.a.createElement(X.a,{variant:"h6"},t):r.a.createElement(X.a,{variant:"h6"},"\xa0"),n?r.a.createElement(R.a,{"aria-label":"Close",className:a.closeButton,onClick:n},r.a.createElement(jt.a,null)):null)}),wt=a(67),Ct={image:"image",video:"video",pdf:"pdf"},At={images:"images",videos:"videos",pdfs:"pdfs"},St=function(e){return e===Ct.image||e===Ct.pdf?Ct.image:Ct.video},Pt=function(e){var t=e.context;return(t=void 0===t?{custom:{caption:"Title"}}:t).custom.caption},xt=function(e){var t=e.context;return(t=void 0===t?{custom:{alt:"Description"}}:t).custom.alt},Nt=Object(wt.a)(function(e){var t=e.asset,a=e.dimensions,n=e.theme;return function(e,t,a){var n=a.spacing(3),i=Math.floor(t.width-2*n),s=Math.floor(t.height-2*n);switch(e.resource_type){case Ct.pdf:return function(e,t,a){return r.a.createElement("embed",{src:"https://res.cloudinary.com/".concat(u,"/image/upload/").concat(e.public_id),width:t,height:a})}(e,i,s);case Ct.video:return function(e,t,a){return r.a.createElement(E.Video,{publicId:e.public_id,controls:!0,width:t,height:a})}(e,i,s);default:return function(e,t,a){return r.a.createElement(E.Image,{publicId:e.public_id,width:t,height:a,crop:"fit",quality:"auto",fetchFormat:"auto"})}(e,i,s)}}(t,a,n)}),Tt=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){a.setState(function(e){return Object(P.a)({},e,{activeStep:e.activeStep+1})})},a.handleBack=function(){a.setState(function(e){return Object(P.a)({},e,{activeStep:e.activeStep-1})})},a.handleStepChange=function(e){a.setState(function(t){return Object(P.a)({},t,{activeStep:e})})},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,i=t.assets,s=t.presentation,o=t.fullScreen,c=t.hideDialog,l=this.state.activeStep,u=s.selectedAssets.length;return r.a.createElement(pe.a,{onClose:c,fullWidth:!0,maxWidth:"xl",classes:{paper:a.dialogPaper},open:!0,fullScreen:Boolean(o)},r.a.createElement(It,{onClose:c}),r.a.createElement(he.a,{className:a.dialogContent},r.a.createElement(vt.a,null,function(t){return r.a.createElement(gt.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:l,onChangeIndex:e.handleStepChange,enableMouseEvents:!0,className:a.swipeableViews},s.selectedAssets.map(function(e,a){return r.a.createElement("div",{key:e},Math.abs(l-a)<=2?r.a.createElement(Nt,{asset:i[e],dimensions:t}):null)}))})),r.a.createElement(me.a,{className:a.dialogActions},r.a.createElement(pt.a,{steps:u,position:"static",activeStep:l,className:a.mobileStepper,nextButton:r.a.createElement(te.a,{size:"small",onClick:this.handleNext,disabled:l===u-1},"Next","rtl"===n.direction?r.a.createElement(ht.a,null):r.a.createElement(Et.a,null)),backButton:r.a.createElement(te.a,{size:"small",onClick:this.handleBack,disabled:0===l},"rtl"===n.direction?r.a.createElement(Et.a,null):r.a.createElement(ht.a,null),"Back")})))}}]),t}(n.Component),kt={hideDialog:ye},Dt={hideDialog:ye},_t={hideDialog:ye,deletePresentation:it},Bt={newPresentation:{type:"NEW_PRESENTATION_DIALOG",component:ct},editPresentationTitle:{type:"EDIT_PRESENTATION_TITLE_DIALOG",component:dt},presentationPreview:{type:"PRESENTATION_PREVIEW_DIALOG",component:Object(N.a)(Object(l.b)(function(e){return{assets:e.assets.assetsById}},kt),Object(T.a)(function(e){return{dialogPaper:{minHeight:"90vh"},dialogActions:{margin:0},mobileStepper:{flexGrow:1},dialogContent:{display:"flex"},swipeableViews:{flex:1,textAlign:"center",overflowY:"hidden"}}},{withTheme:!0}))(Tt)},assetPreview:{type:"ASSET_PREVIEW_DIALOG",component:Object(N.a)(Object(l.b)(function(e){return{assets:e.assets.assetsById}},Dt),Object(T.a)(function(e){return{dialogPaper:{minHeight:"90vh"},dialogContent:{display:"flex"},asset:{flex:1,textAlign:"center",overflowY:"hidden"}}}))(function(e){var t=e.classes,a=e.asset,n=e.assets,i=e.hideDialog;return r.a.createElement(pe.a,{onClose:i,fullWidth:!0,maxWidth:"xl",classes:{paper:t.dialogPaper},open:!0},r.a.createElement(It,{onClose:i}),r.a.createElement(he.a,{className:t.dialogContent},r.a.createElement(vt.a,null,function(e){return r.a.createElement("div",{className:t.asset},r.a.createElement(Nt,{asset:n[a.public_id],dimensions:e}))})))})},deletePresentationConfirmation:{type:"DELETE_PRESENTATION_CONFIRMATION_DIALOG",component:Object(N.a)(Object(l.b)(null,_t))(function(e){var t=e.hideDialog;return r.a.createElement(pe.a,{onClose:t,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title",open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(fe.a,{id:"alert-dialog-title"},"Delete presentation?"),r.a.createElement(me.a,null,r.a.createElement(te.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(te.a,{onClick:function(){var t=e.deletePresentation,a=e.hideDialog,n=e.onDeleteConfirm,r=e.id;t(r).then(a).then(function(){return n(r)})},color:"primary"},"Delete")))})}},Rt=Object(N.a)(Object(l.b)(function(e){return e.dialog}))(function(e){var t=e.dialogType,a=e.dialogProps;if(!t)return null;var n=Bt[Object(k.findKey)(Bt,{type:t})].component;return r.a.createElement(n,a)}),Ft=a(63),Lt=a(606),Mt=a(270),Wt=a.n(Mt),Gt=Object(Ee.a)({FETCH_ASSETS_BEGIN:function(){},FETCH_ASSETS_SUCCESS:function(e){return e},FETCH_ASSETS_FAILURE:function(e){return e}}),Ut=Gt.fetchAssetsBegin,Ht=Gt.fetchAssetsSuccess,Vt=Gt.fetchAssetsFailure,qt=function(){return function(e,t){return function(e){var t=e.assets;return!t.loading&&Object(k.isEmpty)(t.assetsById)}(t())?e(function(){var e="https://res.cloudinary.com/".concat(u),t="list/".concat(p,".json"),a="".concat(e,"/image/").concat(t),n="".concat(e,"/video/").concat(t);return function(e){return e(Ut()),Oe.a.all([Oe.a.get(a),Oe.a.get(n)]).then(Oe.a.spread(function(t,a){var n=t.data.resources,r=a.data.resources;return n.map(function(e){return e.resource_type=e.format===Ct.pdf?Ct.pdf:Ct.image}),r.map(function(e){return e.resource_type=Ct.video}),e(Ht(n.concat(r)))})).catch(function(t){return e(Vt("Unable to load assets."))})}}()):Promise.resolve()}},zt=a(142),Jt=a.n(zt),Xt=a(141),$t=a.n(Xt),Yt=a(269),Kt=a.n(Yt),Qt=a(603),Zt=a(604),ea=a(92),ta=Object(T.a)(function(e){return{assetImage:{position:"absolute",left:0,top:0,height:"100%",width:"100%",objectFit:"cover"}}})(function(e){var t=e.asset,a=e.classes;if(Object(k.isEmpty)(t))return r.a.createElement("img",{className:a.assetImage,src:"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22288%22%20height%3D%22225%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20288%20225%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_164edaf95ee%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A14pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_164edaf95ee%22%3E%3Crect%20width%3D%22288%22%20height%3D%22225%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2296.32500076293945%22%20y%3D%22118.8%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",alt:"thumbnail"});var n=t.resource_type;switch(St(n)){case Ct.video:return r.a.createElement(E.Video,{responsive:!0,publicId:"".concat(t.public_id,".jpg"),width:"auto",crop:"scale",quality:"auto",fetchFormat:"auto",resourceType:"video",className:a.assetImage},r.a.createElement(E.Transformation,{startOffset:"0"}));default:return r.a.createElement(E.Image,{responsive:!0,publicId:"".concat(t.public_id,".jpg"),width:"auto",crop:"scale",aspectRatio:"1.0",quality:"auto",fetchFormat:"auto",className:a.assetImage})}}),aa=Object(N.a)(Object(l.b)(function(e){return{assets:e.assets}}),Object(T.a)(function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",position:"relative","&:hover":{boxShadow:e.shadows[8]}},cardMedia:{position:"relative",paddingTop:"56.25%"},cardContent:{flexGrow:1}}}))(function(e){var t=e.classes,a=e.presentation,n=e.children,i=e.assets,s=(e.dispatch,Object(m.a)(e,["classes","presentation","children","assets","dispatch"]));return r.a.createElement(Qt.a,Object.assign({className:t.card},s),r.a.createElement("div",{className:t.cardMedia},function(e){var t=e.selectedAssets,a=i.assetsById;if(Object(k.isEmpty)(t)||Object(k.isEmpty)(a))return r.a.createElement(ta,null);var n=a[t[0]];return r.a.createElement(ta,{asset:n})}(a)),r.a.createElement(Zt.a,{className:t.cardContent},r.a.createElement(X.a,{variant:"h6",noWrap:!0},r.a.createElement(ea.a,null,a.title))),n)}),na=Object(N.a)(Object(T.a)(function(e){return{overlay:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.8)",top:0,bottom:0,left:0,right:0},overlayContainer:{height:"100%"},cardActionButton:{border:"1px solid white",borderRadius:"50%",width:"2em",height:"2em","&:hover":{backgroundColor:"white",transition:"background-color 0.5s ease","& svg":{color:"black"}}},cardActionIcon:{color:"white"},cardActionLabel:{color:"white",cursor:"pointer",verticalAlign:"middle",paddingLeft:e.spacing(1)}}}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"isHovered";return function(a){function n(){var e,t;Object(I.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(C.a)(this,(e=Object(A.a)(n)).call.apply(e,[this].concat(r)))).state={isHovered:!1},t.onMouseEnter=function(){t.setState({isHovered:!0})},t.onMouseLeave=function(){t.setState({isHovered:!1})},t}return Object(S.a)(n,a),Object(w.a)(n,[{key:"render",value:function(){var a=this,n=Object(P.a)(Object(x.a)({},t,this.state.isHovered),this.props);return r.a.createElement("div",{onMouseEnter:function(){return a.onMouseEnter()},onMouseLeave:function(){return a.onMouseLeave()}},r.a.createElement(e,n))}}]),n}(n.Component)})(function(e){var t=e.presentation,a=e.index,n=e.classes,i=[{id:"play",label:"Play",icon:r.a.createElement(Kt.a,{className:n.cardActionIcon}),onClick:e.onPlay},{id:"edit",label:"Edit",icon:r.a.createElement($t.a,{className:n.cardActionIcon}),onClick:e.onEdit},{id:"delete",label:"Delete",icon:r.a.createElement(Jt.a,{className:n.cardActionIcon}),onClick:e.onDelete}];return r.a.createElement(aa,{presentation:t},r.a.createElement("div",{className:n.overlay,style:{display:e.isHovered?"block":"none"}},r.a.createElement(Y.a,{container:!0,className:n.overlayContainer,direction:"column",justify:"center",alignContent:"center",spacing:1},i.map(function(e,i){var s="".concat(e.id).concat(a,"-").concat(i);return r.a.createElement(Y.a,{item:!0,key:s},r.a.createElement(R.a,{className:n.cardActionButton,onClick:function(){return e.onClick(t.id)},id:s},e.icon),r.a.createElement(X.a,{variant:"h5",component:"label",htmlFor:s,className:n.cardActionLabel,display:"inline"},e.label))}))))}),ra=a(605),ia=a(282),sa=Object(T.a)({spinner:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})(function(e){var t=e.area,a=e.classes,n=Object(Ft.usePromiseTracker)({area:t}).promiseInProgress;return r.a.createElement(ia.a,{in:n,style:{transitionDelay:n?"100ms":"0ms"},unmountOnExit:!0},r.a.createElement("div",{className:a.spinner},r.a.createElement(ra.a,{style:{width:100,height:100}})))}),oa=a(508),ca=Object(T.a)(function(e){return{gridContainer:Object(x.a)({height:"100%"},e.breakpoints.only("xs"),{height:"auto"}),avatar:{padding:50,width:200,height:200,backgroundColor:e.palette.grey[200],"& > img":{opacity:.5}}}})(function(e){var t=e.title,a=e.subtitle,n=e.classes;return r.a.createElement(Y.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"center",spacing:3,className:n.gridContainer},r.a.createElement(Y.a,{item:!0},r.a.createElement($.a,{alt:"Empty State",src:oa,className:n.avatar})),r.a.createElement(Y.a,{item:!0},r.a.createElement(X.a,{component:"h6",variant:"h6",align:"center",gutterBottom:!0},t),r.a.createElement(X.a,{variant:"subtitle1",color:"textSecondary",align:"center"},a)))}),la=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={toPresentation:!1},a.handleAdd=function(){a.props.showDialog(Bt.newPresentation.type,{onCreate:a.onCreatePresentation})},a.onCreatePresentation=function(){var e=a.props.presentations.error;Object(k.isEmpty)(e)&&a.setState(Object.assign({},a.state,{toPresentation:!0}))},a.onPlay=function(e){var t=a.props.presentations.presentationsById;a.props.showDialog(Bt.presentationPreview.type,{presentation:t[e],fullScreen:!0})},a.onEdit=function(e){a.props.setCurrentPresentationId(e),a.setState(Object.assign({},a.state,{toPresentation:!0}))},a.onDelete=function(e){a.props.showDialog(Bt.deletePresentationConfirmation.type,{id:e,onDeleteConfirm:a.onDeleteConfirm})},a.onDeleteConfirm=function(e){var t=a.props.presentations.error;Object(k.isEmpty)(t)&&a.props.enqueueSnackbar("Deleted presentation")},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){Object(Ft.trackPromise)(this.props.fetchPresentationList(),"presentation-list-area"),Object(Ft.trackPromise)(this.props.fetchAssetsIfNeeded(),"presentation-list-area")}},{key:"handleEmptyState",value:function(){var e=this.props.presentations;return!(e.loading||!Object(k.isEmpty)(e.presentationsById))&&r.a.createElement(ca,{title:"Empty Presentations",subtitle:r.a.createElement("span",null,"Create a presentation and it will ",r.a.createElement("br",null),"show up here.")})}},{key:"handleErrors",value:function(){var e=this.props,t=e.presentations,a=e.assets;if(!t.loading&&!Object(k.isEmpty)(t.error))throw new Error(t.error);if(!a.loading&&!Object(k.isEmpty)(a.error))throw new Error(a.error);return!1}},{key:"renderPresentationList",value:function(){var e=this,t=this.props.presentations.presentationsById;return r.a.createElement(Y.a,{container:!0,spacing:3},this.handleErrors()||this.handleEmptyState()||Object.values(t).map(function(t,a){return r.a.createElement(Y.a,{item:!0,key:t.id,xs:12,sm:6,md:4,lg:3},r.a.createElement(na,{presentation:t,index:a,onPlay:e.onPlay,onEdit:e.onEdit,onDelete:e.onDelete}))}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentPresentationId;return this.state.toPresentation?r.a.createElement(h.a,{to:"/presentations/".concat(a)}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.cardGrid},this.renderPresentationList(),r.a.createElement(sa,{area:"presentation-list-area"})),r.a.createElement(Lt.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:this.handleAdd},r.a.createElement(Wt.a,null)))}}]),t}(n.Component),ua={fetchPresentationList:function(){return function(e){return e(Ge()),Ne.getAll().then(function(t){return e(Ue(t.data))}).catch(function(t){return e(He("Unable to load presentations."))})}},fetchAssetsIfNeeded:qt,setCurrentPresentationId:We,showDialog:ge,deletePresentation:it},da=Object(N.a)(Object(l.b)(function(e){return{presentations:e.presentations,assets:e.assets,currentPresentationId:e.currentPresentationId}},ua),Object(T.a)(function(e){return{cardGrid:{padding:"".concat(e.spacing(8),"px 0"),height:"100%"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),transition:"transform .2s","&:hover":{transform:"scale(1.1)"}}}}),y.withSnackbar)(la),pa=a(179),ma=a.n(pa),ha=a(146),fa=a.n(ha),Ea=a(69),ba=a(143),ga=a.n(ba),ya=a(144),va=a.n(ya),Oa=a(145),ja=a.n(Oa),Ia={filterAssetCategory:Be},wa=Object(N.a)(Object(l.b)(function(e){return{assetFilters:e.assetFilters}},Ia),Object(T.a)(function(e){return{listFilter:{height:"100%",display:"flex",flexDirection:"column",paddingTop:e.spacing(3)}}}))(function(e){var t=e.assetFilters,a=e.classes,n=t.category,i=[{label:"Images",category:At.images,icon:r.a.createElement(ga.a,null)},{label:"Videos",category:At.videos,icon:r.a.createElement(va.a,null)},{label:"PDFs",category:At.pdfs,icon:r.a.createElement(ja.a,null)}];return r.a.createElement(M.a,{className:a.listFilter},i.map(function(t){return r.a.createElement(W.a,{button:!0,key:t.label,selected:n===t.category,onClick:function(){return a=t.category,void e.filterAssetCategory(a);var a}},r.a.createElement(G.a,null,t.icon),r.a.createElement(U.a,{primary:t.label}))}))}),Ca=a(229),Aa=function(e,t){var a=t.exclude,n=t.category,r=n===At.images?Ct.image:n===At.videos?Ct.video:Ct.pdf;return Object(k.differenceWith)(e,a,function(e,t){return e.public_id===t}).filter(function(e){return e.resource_type===r})},Sa=a(274),Pa=a.n(Sa),xa=a(278),Na=a(607),Ta=Object(T.a)(function(e){return{placeholder:{display:"none"}}})(function(e){var t=e.classes,a=e.anchorEl,n=e.readOnly;return r.a.createElement(xa.a,{anchorEl:a,open:Boolean(a),onClose:function(t){t.stopPropagation(),e.clearAnchor()}},r.a.createElement(Na.a,{key:"placeholder",className:t.placeholder}),r.a.createElement(Na.a,{onClick:function(t){t.stopPropagation(),e.handlePreview()}},r.a.createElement(G.a,null,r.a.createElement(fa.a,null)),r.a.createElement(U.a,{primary:"Preview"})),Boolean(n)?null:r.a.createElement(Na.a,{onClick:function(t){t.stopPropagation(),e.handleRemove()}},r.a.createElement(G.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(U.a,{primary:"Remove"})))}),ka=function(e,t,a){return Object(P.a)({userSelect:"none",marginBottom:a.spacing(2)},t)},Da=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null},a.handleClickAsset=function(){a.props.showDialog(Bt.assetPreview.type,{asset:a.props.asset})},a.handleClickMoreOptions=function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})},a.clearAnchor=function(){a.setState({anchorEl:null})},a.handleRemove=function(){var e=a.props,t=e.presentationId,n=e.asset,r=e.index;a.props.removeAssetFromPresentation(t,n.public_id,r)},a.getThumbnail=function(e){var t=a.props.asset.resource_type;switch(St(t)){case Ct.video:return r.a.createElement(E.Video,{publicId:"".concat(e.public_id,".jpg"),width:"120",height:"120",crop:"fill",quality:"auto",fetchFormat:"auto",resourceType:"video"},r.a.createElement(E.Transformation,{startOffset:"0"}));default:return r.a.createElement(E.Image,{publicId:"".concat(e.public_id,".jpg"),width:"120",height:"120",crop:"fill",quality:"auto",fetchFormat:"auto"})}},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,i=t.asset,s=t.index,o=t.readOnly,c=this.state.anchorEl;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(Ea.b,{key:i.public_id,draggableId:i.public_id,index:s},function(t,s){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:ka(s.isDragging,t.draggableProps.style,n)}),r.a.createElement(Qt.a,{className:a.card,onClick:e.handleClickAsset},r.a.createElement(Y.a,{container:!0,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0},e.getThumbnail(i)),r.a.createElement(Y.a,{item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement(Zt.a,null,r.a.createElement(X.a,{noWrap:!0,component:"h6",variant:"h6"},Pt(i)),r.a.createElement(X.a,{noWrap:!0,variant:"subtitle1",color:"textSecondary"},r.a.createElement(ea.a,{lines:2},xt(i))))),r.a.createElement(Y.a,{item:!0},r.a.createElement(R.a,{"aria-owns":c?"simple-menu":void 0,"aria-haspopup":"true",onClick:e.handleClickMoreOptions},r.a.createElement(Pa.a,null)),r.a.createElement(Ta,{anchorEl:c,readOnly:o,clearAnchor:e.clearAnchor,handlePreview:e.handleClickAsset,handleRemove:e.handleRemove})))))}))}}]),t}(n.Component),_a={showDialog:ge,removeAssetFromPresentation:function(e,t,a){return function(n,r){n(Me(e,a)),n(_e(t)),at(n,r,e)}}},Ba=Object(N.a)(Object(l.b)(null,_a),Object(T.a)(function(e){return{card:{height:120}}},{withTheme:!0}))(Da),Ra=function(e){function t(){return Object(I.a)(this,t),Object(C.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.presentations,a=e.currentPresentationId,n=e.excludeAssets;Object(k.isEmpty)(t)||null===a||n(t[a].selectedAssets)}},{key:"render",value:function(){var e=this.props,t=e.libraryAssets,a=e.currentPresentationId,n=e.classes;return r.a.createElement(Ea.c,{droppableId:"asset-library",isDropDisabled:!0},function(e,i){return r.a.createElement(Ca.a,{rootRef:e.innerRef},r.a.createElement(Y.a,{container:!0,direction:"column",className:n.assets,wrap:"nowrap"},t.map(function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,key:e.public_id,spacing:2,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0,xs:!0,className:n.assetWrapper},r.a.createElement(Ba,{key:e.public_id,index:t,asset:e,presentationId:a,readOnly:!0})),r.a.createElement(Y.a,{item:!0,className:n.assetSpacing},r.a.createElement(X.a,{variant:"h6",color:"inherit"},"\xa0")))}),Object(k.isEmpty)(t)&&r.a.createElement(ca,{title:"Empty Category",subtitle:r.a.createElement("span",null,"No assets are in this library ",r.a.createElement("br",null),"category."),classes:{avatar:n.emptyStateAvatar}}),e.placeholder))})}}]),t}(n.Component),Fa={excludeAssets:ke},La=Object(N.a)(Object(l.b)(function(e){var t=e.presentations.presentationsById,a=e.assets.assetsById,n=e.assetFilters,r=e.currentPresentationId;return{presentations:t,libraryAssets:Aa(Object.values(a),n),currentPresentationId:r}},Fa),Object(T.a)(function(e){return{assets:{paddingRight:e.spacing(2)},assetWrapper:{minWidth:400,width:400},assetSpacing:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:120}}}))(Ra),Ma=function(e,t){return{padding:t.spacing(2),backgroundColor:e?t.palette.grey[300]:"",transition:"background-color 0.5s ease"}},Wa=Object(N.a)(Object(l.b)(function(e){var t=e.presentations.presentationsById,a=e.assets.assetsById,n=e.currentPresentationId;return{presentation:t[n],assets:a,currentPresentationId:n}}),Object(T.a)(function(e){return{selectedAssets:{backgroundColor:e.palette.grey[200]},assets:{paddingRight:e.spacing(2)},assetsWrapper:{height:"80vh",flexGrow:1,minHeight:0,overflow:"auto"},slideNumber:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:120,color:e.palette.grey[700]},slideAsset:{minWidth:400,width:400},emptyStateAvatar:{backgroundColor:"#fff"}}},{withTheme:!0}))(function(e){var t=e.presentation,a=e.currentPresentationId,n=e.assets,i=e.classes,s=e.theme,o=t.selectedAssets,c=Object(k.isEmpty)(o);return r.a.createElement(Ea.c,{droppableId:"selected-assets"},function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,xs:5,direction:"column",className:i.selectedAssets,style:Ma(t.isDraggingOver,s)},r.a.createElement(Y.a,{container:!0,item:!0,className:i.assetsWrapper},r.a.createElement(Ca.a,{rootRef:e.innerRef},r.a.createElement(Y.a,{container:!0,direction:"column",className:i.assets,wrap:"nowrap"},o.map(function(e,t){return r.a.createElement(Y.a,{container:!0,item:!0,key:e,spacing:2,wrap:"nowrap"},r.a.createElement(Y.a,{item:!0,className:i.slideNumber},r.a.createElement(X.a,{variant:"h6",color:"inherit"},t+1)),r.a.createElement(Y.a,{item:!0,xs:!0,className:i.slideAsset},r.a.createElement(Ba,{key:e,index:t,asset:n[e],presentationId:a})))}),r.a.createElement(ia.a,{in:c&&!t.isDraggingOver,unmountOnExit:!0},r.a.createElement(ca,{title:"Empty Presentation",subtitle:r.a.createElement("span",null,"Drag and drop an asset from the ",r.a.createElement("br",null),"library here."),classes:{avatar:i.emptyStateAvatar}})),e.placeholder))))})}),Ga=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(e){var t=e.draggableId,n=e.source,r=e.destination,i=(e.type,a.props),s=i.currentPresentationId,o=i.addAssetToPresentation,c=i.reorderAssetInPresentation,l=i.addAssetToExclude;r&&(n.droppableId!==r.droppableId&&(o(s,t,r.index),l(t)),n.index!==r.index&&n.droppableId===r.droppableId&&c(s,n.index,r.index))},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){Object(Ft.trackPromise)(this.props.fetchAssetsIfNeeded(),"presentation-assets-area")}},{key:"handleErrors",value:function(){var e=this.props,t=e.presentations,a=e.assets;if(!t.loading&&!Object(k.isEmpty)(t.error))throw new Error(t.error);if(!a.loading&&!Object(k.isEmpty)(a.error))throw new Error(a.error);return!1}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.presentations,n=e.currentPresentationId,i=a.presentationsById[n];return r.a.createElement("div",{className:t.root},r.a.createElement(sa,{area:"presentation-assets-area"}),(this.handleErrors()||i)&&r.a.createElement(Y.a,{container:!0,direction:"row",alignItems:"stretch",spacing:3,className:t.rootGrid},r.a.createElement(Ea.a,{onDragEnd:this.onDragEnd},r.a.createElement(Y.a,{container:!0,item:!0,xs:2,direction:"column",alignItems:"stretch"},r.a.createElement(Y.a,{item:!0},r.a.createElement(X.a,{className:t.title,variant:"h6",color:"inherit",gutterBottom:!0},"Asset Library")),r.a.createElement(Y.a,{item:!0,className:t.assetCategoryWrapper},r.a.createElement(wa,null))),r.a.createElement(Y.a,{container:!0,item:!0,xs:5,direction:"column"},r.a.createElement(Y.a,{item:!0},r.a.createElement(X.a,{className:t.title,variant:"h6",color:"inherit",gutterBottom:!0},"\xa0")),r.a.createElement(Y.a,{container:!0,item:!0,className:t.assetsWrapper},r.a.createElement(La,null))),r.a.createElement(Wa,null))))}}]),t}(n.Component),Ua={fetchAssetsIfNeeded:qt,addAssetToPresentation:function(e,t,a){return function(n,r){n(Fe(e,t,a)),at(n,r,e)}},reorderAssetInPresentation:function(e,t,a){return function(n,r){n(Le(e,t,a)),at(n,r,e)}},addAssetToExclude:De},Ha=Object(N.a)(Object(l.b)(function(e){return{currentPresentationId:e.currentPresentationId,presentations:e.presentations,assets:e.assets}},Ua),Object(T.a)(function(e){return{root:{width:"auto",marginLeft:e.spacing(10),marginRight:e.spacing(4),marginTop:e.spacing(1),height:"90vh",flexGrow:1},rootGrid:{height:"90vh"},assetCategoryWrapper:{flexGrow:1},assetsWrapper:{height:"80vh",flexGrow:1,minHeight:0,overflow:"auto"}}}))(Ga),Va=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={toHome:!1},a.handleBack=function(){a.props.setCurrentPresentationId(null),a.setState({toHome:!0})},a.handleEditTitle=function(e){a.props.showDialog(Bt.editPresentationTitle.type,{presentation:e,onSave:a.handleEditTitleSave})},a.handleEditTitleSave=function(){a.props.enqueueSnackbar("Changed presentation title")},a.handlePreview=function(e){a.props.showDialog(Bt.presentationPreview.type,{presentation:e})},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.routeId;this.props.setCurrentPresentationId(e),this.props.fetchPresentation(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.presentations,i=t.routeId;if(!0===this.state.toHome)return r.a.createElement(h.a,{to:"/"});var s=n.presentationsById[i],o=!n.loading&&!Object(k.isEmpty)(n.error);return r.a.createElement("div",{className:a.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{position:"static",color:"default"},r.a.createElement(J.a,null,r.a.createElement(R.a,{className:a.backButton,color:"inherit","aria-label":"Back to list",onClick:this.handleBack},r.a.createElement(ht.a,null)),r.a.createElement(X.a,{className:a.title,variant:"h6",color:"inherit",noWrap:!0},s&&s.title),!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{"aria-label":"Edit title",className:a.editIcon,onClick:function(){return e.handleEditTitle(s)}},r.a.createElement($t.a,null)),r.a.createElement("div",{className:a.grow}),r.a.createElement(te.a,{color:"inherit",onClick:function(){return e.handlePreview(s)},disabled:s&&Object(k.isEmpty)(s.selectedAssets)},r.a.createElement(fa.a,{className:ma()(a.rightIcon,a.iconSmall)}),"Preview")))),r.a.createElement(se,{classes:{errorBanner:a.errorBanner}},r.a.createElement(Ha,null))))}}]),t}(n.Component),qa={fetchPresentation:function(e){return function(t){return t(Ve()),Ne.getOne(e).then(function(e){return t(qe(e.data))}).catch(function(e){return t(ze("Unable to load presentation."))})}},setCurrentPresentationId:We,createPresentation:nt,showDialog:ge},za=Object(N.a)(Object(l.b)(function(e,t){return{presentations:e.presentations,routeId:t.match.params.id}},qa),h.g,Object(T.a)(function(e){return{root:{flexGrow:1},backButton:{marginLeft:-12,marginRight:20},editIcon:{marginLeft:e.spacing(1)},title:Object(x.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),grow:{flexGrow:1},input:{margin:e.spacing(1)},rightIcon:{marginRight:e.spacing(1)},iconSmall:{fontSize:20},errorBanner:{paddingTop:0,paddingLeft:e.spacing(10),paddingRight:e.spacing(4)}}}),y.withSnackbar)(Va),Ja=a(612),Xa=a(608),$a=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(C.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(i)))).state={value:At.images},a.handleChange=function(e,t){a.setState({value:t}),a.props.filterAssetCategory(t)},a.renderTabs=function(){return r.a.createElement(Ja.a,{value:a.state.value,onChange:a.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Xa.a,{icon:r.a.createElement(ga.a,null),label:"Images",value:At.images}),r.a.createElement(Xa.a,{icon:r.a.createElement(va.a,null),label:"Videos",value:At.videos}),r.a.createElement(Xa.a,{icon:r.a.createElement(ja.a,null),label:"PDFs",value:At.pdfs}))},a}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){Object(Ft.trackPromise)(this.props.fetchAssetsIfNeeded(),"asset-library-area"),this.props.excludeAssets([]),this.props.filterAssetCategory(At.images)}},{key:"handleErrors",value:function(){var e=this.props.assets;if(!e.loading&&!Object(k.isEmpty)(e.error))throw new Error(e.error);return!1}},{key:"renderAssetList",value:function(){var e=this.props,t=e.classes;return e.libraryAssets.map(function(e,a){var n=Pt(e),i=xt(e);return r.a.createElement(Y.a,{item:!0,key:e.public_id,xs:12,sm:6,md:4,lg:3},r.a.createElement(Qt.a,{className:t.card},r.a.createElement(Y.a,{container:!0,wrap:"nowrap",direction:"column"},r.a.createElement(Y.a,{item:!0,className:t.cardMedia},r.a.createElement(ta,{asset:e})),r.a.createElement(Y.a,{item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement(Zt.a,{className:t.cardContent},r.a.createElement(X.a,{noWrap:!0,component:"h6",variant:"h6"},n),r.a.createElement(X.a,{noWrap:!0,variant:"subtitle1",color:"textSecondary"},r.a.createElement(ea.a,{lines:1},i)))))))})}},{key:"renderEmptyState",value:function(){var e=this.props,t=e.classes,a=e.assets,n=e.libraryAssets;if(!a.loading&&Object(k.isEmpty)(n))return r.a.createElement(ca,{title:"Empty Category",subtitle:r.a.createElement("span",null,"No assets are in this library ",r.a.createElement("br",null),"category."),classes:{avatar:t.emptyStateAvatar}})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.cardGrid},this.handleErrors()||r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{container:!0,direction:"column",alignItems:"center",spacing:3},r.a.createElement(Y.a,{item:!0},this.renderTabs()),r.a.createElement(Y.a,{container:!0,item:!0,spacing:3},this.renderAssetList())),this.renderEmptyState()),r.a.createElement(sa,{area:"asset-library-area"}))}}]),t}(n.Component),Ya={fetchAssetsIfNeeded:qt,excludeAssets:ke,filterAssetCategory:Be},Ka=Object(N.a)(Object(l.b)(function(e){var t=e.assets,a=e.assetFilters;return{assets:t,libraryAssets:Aa(Object.values(t.assetsById),a),assetFilters:a}},Ya),Object(T.a)(function(e){return{cardGrid:{paddingTop:e.spacing(4),paddingBottom:e.spacing(8),height:"100%"},card:{height:"100%",display:"flex",flexDirection:"column",position:"relative"},cardMedia:{position:"relative",paddingTop:"56.25%"},cardContent:{flexGrow:1}}}))($a),Qa="linear-gradient(to right, #243949 0%, #517fa4 100%)",Za={palette:{primary:{main:"#3A5B78"},secondary:{main:"#3A5B78"},background:{default:"#fff"}},typography:{useNextVariants:!0},overrides:{MuiDrawer:{paper:{background:Qa,"& *":{color:"#fff"}}},MuiAppBar:{colorDefault:{boxShadow:"none",backgroundColor:"#fff"}},MuiFab:{primary:{background:Qa}},MuiList:{root:{background:Qa}},MuiListItem:{root:{borderLeft:"2px solid ".concat("#3A5B78"),"&$selected&$button":{backgroundColor:"#fff",transition:"background-color 0.5s ease","& *":{color:"#000"}},"&$button:hover, &$button:focus":{backgroundColor:"rgba(255,255,255,0.9)",transition:"background-color 0.5s ease","& *":{color:"#000"}}}},MuiListItemIcon:{root:{color:"#fff"}},MuiListItemText:{primary:{color:"#fff"}}}},en=Object(b.a)(Za),tn=function(e){var t=e.layout,a=e.component,n=Object(m.a)(e,["layout","component"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e,r.a.createElement(a,e))}}))},an=function(e){var t=e.cloudName,a=e.uploadPreset;return r.a.createElement(y.SnackbarProvider,{maxSnack:3},r.a.createElement(E.CloudinaryContext,{cloudName:t,uploadPreset:a},r.a.createElement(g.a,{theme:en},r.a.createElement(j.a,null),r.a.createElement(f.a,null,r.a.createElement(h.d,null,r.a.createElement(tn,{exact:!0,path:"/",layout:ue,component:da}),r.a.createElement(tn,{path:"/assets",layout:ue,component:Ka}),r.a.createElement(h.b,{path:"/presentations/:id",component:za}),r.a.createElement(h.a,{to:"/"}))),r.a.createElement(Rt,null))))};an.contextTypes={cloudName:O.a.string,uploadPreset:O.a.string};var nn=an,rn=a(614),sn=Object(rn.a)(new Map([[Ut,function(e,t){return Object(P.a)({},e,{loading:!0})}],[Ht,function(e,t){return Object(P.a)({},e,{loading:!1,assetsById:t.payload.reduce(function(e,t){return e[t.public_id]=t,e},{})})}],[Vt,function(e,t){return Object(P.a)({},e,{loading:!1,error:t.payload})}]]),{error:null,loading:!1,assetsById:{}}),on=a(276),cn=a(615);function ln(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var un=Object(rn.a)(new Map([[Fe,function(e,t){var a=t.payload,n=a.presentationId,r=a.assetId,i=a.newAssetIndex,s=Array.from(e.presentationsById[n].selectedAssets);return s.splice(i,0,r),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(x.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:s})))})}],[Le,function(e,t){var a=t.payload,n=a.presentationId,r=a.oldAssetIndex,i=a.newAssetIndex,s=Array.from(e.presentationsById[n].selectedAssets),o=s.splice(r,1),c=Object(on.a)(o,1)[0];return s.splice(i,0,c),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(x.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:s})))})}],[Me,function(e,t){var a=t.payload,n=a.presentationId,r=a.assetIndex,i=Array.from(e.presentationsById[n].selectedAssets);return i.splice(r,1),Object(P.a)({},e,{presentationsById:Object(P.a)({},e.presentationsById,Object(x.a)({},n,Object(P.a)({},e.presentationsById[n],{selectedAssets:i})))})}],[[Object(cn.a)(Ge,Ve,Je,Ye,Ze)],function(e,t){return Object(P.a)({},e,{loading:!0})}],[Ue,function(e,t){var a=t.payload.reduce(function(e,t){return e[t.id]=t,e},{});return Object(P.a)({},e,{loading:!1,presentationsById:a})}],[qe,function(e,t){var a={};return a[t.payload.id]=t.payload,Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},e.presentationsById,a)})}],[[Object(cn.a)(Xe,Ke)],function(e,t){var a=t.payload;return Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},e.presentationsById,Object(x.a)({},a.id,Object(P.a)({},a)))})}],[et,function(e,t){var a=t.payload,n=e.presentationsById,r=(n[a],Object(m.a)(n,[a].map(ln)));return Object(P.a)({},e,{loading:!1,presentationsById:Object(P.a)({},r)})}],[[Object(cn.a)(He,ze,$e,Qe,tt)],function(e,t){return Object(P.a)({},e,{loading:!1,error:t.payload})}]]),{error:null,loading:!1,presentationsById:{}}),dn=a(277),pn={exclude:[],category:At.images},mn=Object(rn.a)(new Map([[ke,function(e,t){return Object(P.a)({},e,{exclude:t.payload})}],[De,function(e,t){return Object(P.a)({},e,{exclude:[].concat(Object(dn.a)(e.exclude),[t.payload])})}],[_e,function(e,t){return Object(P.a)({},e,{exclude:Object(k.without)(e.exclude,t.payload)})}],[Be,function(e,t){return Object(P.a)({},e,{category:t.payload})}]]),pn),hn=a(279),fn=Object(hn.a)(We,function(e,t){return t.payload},null),En={dialogType:null,dialogProps:{}},bn=Object(rn.a)(new Map([[ge,function(e,t){return{dialogType:t.payload.dialogType,dialogProps:t.payload.dialogProps}}],[ye,function(e,t){return En}]]),En),gn=Object(o.c)({presentations:un,currentPresentationId:fn,assets:sn,assetFilters:mn,dialog:bn}),yn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,vn=Object(o.e)(gn,yn(Object(o.a)(c.a)));s.a.render(r.a.createElement(l.a,{store:vn},r.a.createElement(nn,{cloudName:u,uploadPreset:d})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[292,1,2]]]);
//# sourceMappingURL=main.5c6c62ca.chunk.js.map